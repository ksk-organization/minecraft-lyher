import{c as st,r as Be,j as t,u as ct,a as lt,H as nt}from"./app-BZp_PAW3.js";import{a as it,B as S}from"./button-BhfxSGUk.js";import{I as Te}from"./input-BX0Z62uY.js";import{T as ot,a as mt,b as Je,c as Ae,d as dt,e as Me,S as xt}from"./table-kHRnebcm.js";import{C as ft,a as ht,b as gt,c as pt}from"./card-BZg7L1DI.js";import{a as ut,D as bt,b as jt,d as Xe,e as Ke}from"./dialog-CwgVtIpk.js";import{s as at}from"./index-BsxvijQw.js";import{A as _t}from"./app-layout-DsF0PUhF.js";import{S as vt}from"./switch-DsaM_K87.js";import{L as H}from"./label-ByMwaODe.js";import{T as Nt}from"./textarea-BFG1y3UX.js";import{a as Qe,b as Ye,c as Ze,S as et,d as rt}from"./select-DcIZsp-0.js";import{X as tt}from"./x-BkAmKkYl.js";import{L as yt}from"./loader-circle-DY9RqHKc.js";import{E as wt,R as zt}from"./refresh-cw-DxRM5Upj.js";import{P as St,T as Ct}from"./trash-2-DtVCPTJA.js";import{C as kt}from"./circle-plus-BxVPbDlw.js";import{C as Pt}from"./circle-alert-Bymkw2_2.js";/* empty css            */import"./FlashMessage-BOjLCMHG.js";import"./index-DCHY3qYb.js";import"./tooltip-D1BwYHEC.js";import"./index-CofEMFxi.js";import"./app-logo-icon-tYkFOgi_.js";import"./package-BKiqN6-o.js";import"./index-DiWVDR7x.js";import"./check-hO8-GhWa.js";const Lt=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Ve=it("CloudUpload",Lt);const Dt=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],It=it("Image",Dt);function Tt(c){const e=st.c(168),{form:X,mode:x,onClose:A,game_modes:o,categories:Re}=c,{data:s,setData:i,processing:l,errors:m,post:K,put:Q}=X;let n,F;e[0]!==s.main_icon_preview?(n=()=>()=>{s.main_icon_preview&&s.main_icon_preview.startsWith("blob:")&&URL.revokeObjectURL(s.main_icon_preview)},F=[s.main_icon_preview],e[0]=s.main_icon_preview,e[1]=n,e[2]=F):(n=e[1],F=e[2]),Be.useEffect(n,F);let z;e[3]!==i?(z=r=>{const d=r.target.files?.[0];if(!d)return;const J=URL.createObjectURL(d);i({main_icon_url:d,main_icon_preview:J})},e[3]=i,e[4]=z):z=e[4];const Y=z;let Z;e[5]!==s.images||e[6]!==i?(Z=r=>{const d=Array.from(r.target.files||[]);if(!d.length)return;const J=d.map(Mt);i("images",[...s.images||[],...J])},e[5]=s.images,e[6]=i,e[7]=Z):Z=e[7];const ee=Z;let te;e[8]!==s.images||e[9]!==i?(te=r=>{const d=[...s.images||[]],J=d.splice(r,1)[0];J?.type==="file"&&J.value.startsWith("blob:")&&URL.revokeObjectURL(J.value),i("images",d)},e[8]=s.images,e[9]=i,e[10]=te):te=e[10];const se=te;let ce;e[11]!==s.id||e[12]!==x||e[13]!==A||e[14]!==K||e[15]!==Q?(ce=r=>{r.preventDefault();const d=x==="create"?K:Q,J=x==="create"?[]:[s.id];d(at(`admin.products.${x==="create"?"store":"update"}`,...J),{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{A()}})},e[11]=s.id,e[12]=x,e[13]=A,e[14]=K,e[15]=Q,e[16]=ce):ce=e[16];const $e=ce;let G;e[17]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx(H,{className:"text-xs font-bold tracking-wider text-zinc-400 uppercase",children:"Name *"}),e[17]=G):G=e[17];const le=s.name||"";let f;e[18]!==i?(f=r=>i("name",r.target.value),e[18]=i,e[19]=f):f=e[19];let C;e[20]!==l||e[21]!==le||e[22]!==f?(C=t.jsx(Te,{value:le,onChange:f,className:"mt-1.5 border-zinc-700 bg-zinc-900 focus:border-orange-500",disabled:l}),e[20]=l,e[21]=le,e[22]=f,e[23]=C):C=e[23];let k;e[24]!==m.name?(k=m.name&&t.jsx("p",{className:"mt-1.5 text-xs text-red-400",children:m.name}),e[24]=m.name,e[25]=k):k=e[25];let h;e[26]!==C||e[27]!==k?(h=t.jsxs("div",{children:[G,C,k]}),e[26]=C,e[27]=k,e[28]=h):h=e[28];let O;e[29]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx(H,{className:"text-xs font-bold tracking-wider text-zinc-400 uppercase",children:"Slug *"}),e[29]=O):O=e[29];const M=s.slug||"";let P;e[30]!==i?(P=r=>i("slug",r.target.value),e[30]=i,e[31]=P):P=e[31];let g;e[32]!==l||e[33]!==M||e[34]!==P?(g=t.jsx(Te,{value:M,onChange:P,className:"mt-1.5 border-zinc-700 bg-zinc-900 focus:border-orange-500",disabled:l}),e[32]=l,e[33]=M,e[34]=P,e[35]=g):g=e[35];let p;e[36]!==m.slug?(p=m.slug&&t.jsx("p",{className:"mt-1.5 text-xs text-red-400",children:m.slug}),e[36]=m.slug,e[37]=p):p=e[37];let u;e[38]!==g||e[39]!==p?(u=t.jsxs("div",{children:[O,g,p]}),e[38]=g,e[39]=p,e[40]=u):u=e[40];let b;e[41]!==h||e[42]!==u?(b=t.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2",children:[h,u]}),e[41]=h,e[42]=u,e[43]=b):b=e[43];let L;e[44]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx(H,{className:"text-xs font-bold tracking-wider text-zinc-400 uppercase",children:"Game Mode"}),e[44]=L):L=e[44];const re=String(s.game_mode_id||"");let D;e[45]!==i?(D=r=>i("game_mode_id",r),e[45]=i,e[46]=D):D=e[46];let ie;e[47]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx(Qe,{className:"mt-1.5 border-zinc-700 bg-zinc-900",children:t.jsx(Ye,{placeholder:"Select game mode"})}),e[47]=ie):ie=e[47];let j;e[48]!==o?(j=o.map(At),e[48]=o,e[49]=j):j=e[49];let _;e[50]!==j?(_=t.jsx(Ze,{children:j}),e[50]=j,e[51]=_):_=e[51];let v;e[52]!==l||e[53]!==re||e[54]!==D||e[55]!==_?(v=t.jsxs("div",{children:[L,t.jsxs(et,{value:re,onValueChange:D,disabled:l,children:[ie,_]})]}),e[52]=l,e[53]=re,e[54]=D,e[55]=_,e[56]=v):v=e[56];let B;e[57]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx(H,{className:"text-xs font-bold tracking-wider text-zinc-400 uppercase",children:"Category"}),e[57]=B):B=e[57];const U=String(s.category_id||"");let N;e[58]!==i?(N=r=>i("category_id",r),e[58]=i,e[59]=N):N=e[59];let I;e[60]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx(Qe,{className:"mt-1.5 border-zinc-700 bg-zinc-900",children:t.jsx(Ye,{placeholder:"Select category"})}),e[60]=I):I=e[60];let E;e[61]!==Re?(E=Re.map($t),e[61]=Re,e[62]=E):E=e[62];let T;e[63]!==E?(T=t.jsx(Ze,{children:E}),e[63]=E,e[64]=T):T=e[64];let R;e[65]!==l||e[66]!==U||e[67]!==N||e[68]!==T?(R=t.jsxs("div",{children:[B,t.jsxs(et,{value:U,onValueChange:N,disabled:l,children:[I,T]})]}),e[65]=l,e[66]=U,e[67]=N,e[68]=T,e[69]=R):R=e[69];let $;e[70]!==v||e[71]!==R?($=t.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2",children:[v,R]}),e[70]=v,e[71]=R,e[72]=$):$=e[72];let W;e[73]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx(H,{className:"text-xs font-bold tracking-wider text-zinc-400 uppercase",children:"Short Description"}),e[73]=W):W=e[73];const ae=s.short_description||"";let y;e[74]!==i?(y=r=>i("short_description",r.target.value),e[74]=i,e[75]=y):y=e[75];let w;e[76]!==l||e[77]!==ae||e[78]!==y?(w=t.jsxs("div",{children:[W,t.jsx(Nt,{value:ae,onChange:y,rows:3,className:"mt-1.5 border-zinc-700 bg-zinc-900 focus:border-orange-500",disabled:l})]}),e[76]=l,e[77]=ae,e[78]=y,e[79]=w):w=e[79];let q;e[80]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx(H,{className:"text-xs font-bold tracking-wider text-zinc-400 uppercase",children:"Price ($)"}),e[80]=q):q=e[80];const a=s.price??"";let V;e[81]!==i?(V=r=>i("price",r.target.value),e[81]=i,e[82]=V):V=e[82];let ne;e[83]!==l||e[84]!==a||e[85]!==V?(ne=t.jsxs("div",{children:[q,t.jsx(Te,{type:"number",step:"0.01",min:"0",value:a,onChange:V,className:"mt-1.5 border-zinc-700 bg-zinc-900 font-mono text-orange-400",disabled:l})]}),e[83]=l,e[84]=a,e[85]=V,e[86]=ne):ne=e[86];let Ue;e[87]===Symbol.for("react.memo_cache_sentinel")?(Ue=t.jsx(H,{className:"text-xs font-bold tracking-wider text-zinc-400 uppercase",children:"Stock"}),e[87]=Ue):Ue=e[87];const We=s.stock??"";let oe;e[88]!==i?(oe=r=>i("stock",r.target.value),e[88]=i,e[89]=oe):oe=e[89];let me;e[90]!==l||e[91]!==We||e[92]!==oe?(me=t.jsxs("div",{children:[Ue,t.jsx(Te,{type:"number",min:"0",value:We,onChange:oe,className:"mt-1.5 border-zinc-700 bg-zinc-900",disabled:l})]}),e[90]=l,e[91]=We,e[92]=oe,e[93]=me):me=e[93];let de;e[94]!==i?(de=r=>i("is_active",r),e[94]=i,e[95]=de):de=e[95];let xe;e[96]!==s.is_active||e[97]!==l||e[98]!==de?(xe=t.jsx(vt,{checked:s.is_active,onCheckedChange:de,disabled:l}),e[96]=s.is_active,e[97]=l,e[98]=de,e[99]=xe):xe=e[99];const qe=s.is_active?"Active":"Hidden";let fe;e[100]!==qe?(fe=t.jsx(H,{className:"text-sm font-medium",children:qe}),e[100]=qe,e[101]=fe):fe=e[101];let he;e[102]!==xe||e[103]!==fe?(he=t.jsxs("div",{className:"flex items-end gap-3 pb-2",children:[xe,fe]}),e[102]=xe,e[103]=fe,e[104]=he):he=e[104];let ge;e[105]!==ne||e[106]!==me||e[107]!==he?(ge=t.jsxs("div",{className:"grid grid-cols-3 gap-5",children:[ne,me,he]}),e[105]=ne,e[106]=me,e[107]=he,e[108]=ge):ge=e[108];let pe;e[109]!==b||e[110]!==$||e[111]!==w||e[112]!==ge?(pe=t.jsxs("div",{className:"space-y-6",children:[b,$,w,ge]}),e[109]=b,e[110]=$,e[111]=w,e[112]=ge,e[113]=pe):pe=e[113];let Ee;e[114]===Symbol.for("react.memo_cache_sentinel")?(Ee=t.jsx(H,{className:"text-xs font-bold tracking-wider text-zinc-400 uppercase",children:"Main Product Icon"}),e[114]=Ee):Ee=e[114];let ue;e[115]!==s.main_icon_preview||e[116]!==s.main_icon_url||e[117]!==i?(ue=t.jsx("div",{className:"shrink-0",children:s.main_icon_preview||typeof s.main_icon_url=="string"&&s.main_icon_url?t.jsxs("div",{className:"relative group",children:[t.jsx("img",{src:s.main_icon_preview||s.main_icon_url,alt:"Main preview",className:"h-28 w-28 rounded-lg object-cover border border-zinc-700 shadow-md"}),t.jsx(S,{size:"icon",variant:"destructive",className:"absolute -top-2 -right-2 h-7 w-7 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>i({main_icon_url:null,main_icon_preview:null}),children:t.jsx(tt,{className:"h-4 w-4"})})]}):t.jsx("div",{className:"h-28 w-28 rounded-lg border-2 border-dashed border-zinc-700 flex items-center justify-center text-zinc-600",children:t.jsx(Ve,{className:"h-10 w-10 opacity-40"})})}),e[115]=s.main_icon_preview,e[116]=s.main_icon_url,e[117]=i,e[118]=ue):ue=e[118];let be;e[119]!==Y||e[120]!==l?(be=t.jsx(Te,{type:"file",accept:"image/*",onChange:Y,disabled:l,className:"cursor-pointer file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20"}),e[119]=Y,e[120]=l,e[121]=be):be=e[121];let He;e[122]===Symbol.for("react.memo_cache_sentinel")?(He=t.jsx("p",{className:"text-xs text-zinc-500",children:"PNG, JPG, WebP • Recommended 512×512 • Max 3MB"}),e[122]=He):He=e[122];let je;e[123]!==m.main_icon_url?(je=m.main_icon_url&&t.jsx("p",{className:"text-xs text-red-400",children:m.main_icon_url}),e[123]=m.main_icon_url,e[124]=je):je=e[124];let _e;e[125]!==be||e[126]!==je?(_e=t.jsxs("div",{className:"flex-1 space-y-2",children:[be,He,je]}),e[125]=be,e[126]=je,e[127]=_e):_e=e[127];let ve;e[128]!==ue||e[129]!==_e?(ve=t.jsxs("div",{children:[Ee,t.jsxs("div",{className:"mt-3 flex flex-col sm:flex-row gap-5 items-start",children:[ue,_e]})]}),e[128]=ue,e[129]=_e,e[130]=ve):ve=e[130];let Fe;e[131]===Symbol.for("react.memo_cache_sentinel")?(Fe=t.jsx(H,{className:"text-xs font-bold tracking-wider text-zinc-400 uppercase",children:"Gallery Images"}),e[131]=Fe):Fe=e[131];let Ge;e[132]===Symbol.for("react.memo_cache_sentinel")?(Ge=t.jsxs(S,{type:"button",variant:"outline",size:"sm",onClick:Rt,className:"h-8 border-orange-600/40 text-orange-400 hover:bg-orange-950/30",children:[t.jsx(Ve,{className:"mr-1.5 h-4 w-4"}),"Add Images"]}),e[132]=Ge):Ge=e[132];let Ne;e[133]!==ee?(Ne=t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[Fe,Ge,t.jsx("input",{id:"gallery-upload",type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:ee})]}),e[133]=ee,e[134]=Ne):Ne=e[134];let ye;e[135]!==s.images||e[136]!==se?(ye=s.images?.map((r,d)=>t.jsxs("div",{className:"group relative aspect-square overflow-hidden rounded-lg border border-zinc-700 bg-zinc-950",children:[t.jsx("img",{src:r.value,alt:`gallery-${d}`,className:"h-full w-full object-cover"}),t.jsx(S,{size:"icon",variant:"destructive",className:"absolute top-1 right-1 h-7 w-7 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>se(d),children:t.jsx(tt,{className:"h-4 w-4"})})]},d)),e[135]=s.images,e[136]=se,e[137]=ye):ye=e[137];let we;e[138]!==s.images?(we=(!s.images||s.images.length===0)&&t.jsxs("div",{className:"col-span-full h-32 flex flex-col items-center justify-center rounded-lg border-2 border-dashed border-zinc-700 text-zinc-600",children:[t.jsx(Ve,{className:"mb-2 h-10 w-10 opacity-50"}),t.jsx("p",{className:"text-sm",children:"No gallery images yet"})]}),e[138]=s.images,e[139]=we):we=e[139];let ze;e[140]!==ye||e[141]!==we?(ze=t.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-3",children:[ye,we]}),e[140]=ye,e[141]=we,e[142]=ze):ze=e[142];let Se;e[143]!==Ne||e[144]!==ze?(Se=t.jsxs("div",{children:[Ne,ze]}),e[143]=Ne,e[144]=ze,e[145]=Se):Se=e[145];let Ce;e[146]!==ve||e[147]!==Se?(Ce=t.jsxs("div",{className:"space-y-8",children:[ve,Se]}),e[146]=ve,e[147]=Se,e[148]=Ce):Ce=e[148];let ke;e[149]!==pe||e[150]!==Ce?(ke=t.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-2",children:[pe,Ce]}),e[149]=pe,e[150]=Ce,e[151]=ke):ke=e[151];let Pe;e[152]!==A||e[153]!==l?(Pe=t.jsx(S,{type:"button",variant:"outline",onClick:A,disabled:l,className:"border-zinc-700 hover:bg-zinc-800",children:"Cancel"}),e[152]=A,e[153]=l,e[154]=Pe):Pe=e[154];let Le;e[155]!==x||e[156]!==l?(Le=l?t.jsxs(t.Fragment,{children:[t.jsx(yt,{className:"mr-2 h-5 w-5 animate-spin"}),x==="create"?"Creating...":"Updating..."]}):x==="create"?"Create Product":"Save Changes",e[155]=x,e[156]=l,e[157]=Le):Le=e[157];let De;e[158]!==l||e[159]!==Le?(De=t.jsx(S,{type:"submit",disabled:l,className:"min-w-[160px] bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-500 hover:to-orange-400 shadow-lg shadow-orange-900/30",children:Le}),e[158]=l,e[159]=Le,e[160]=De):De=e[160];let Ie;e[161]!==Pe||e[162]!==De?(Ie=t.jsxs("div",{className:"flex justify-end gap-4 pt-8 border-t border-zinc-800",children:[Pe,De]}),e[161]=Pe,e[162]=De,e[163]=Ie):Ie=e[163];let Oe;return e[164]!==$e||e[165]!==ke||e[166]!==Ie?(Oe=t.jsxs("form",{onSubmit:$e,className:"space-y-8",children:[ke,Ie]}),e[164]=$e,e[165]=ke,e[166]=Ie,e[167]=Oe):Oe=e[167],Oe}function Rt(){return document.getElementById("gallery-upload")?.click()}function $t(c){return t.jsx(rt,{value:String(c.id),children:c.name},c.id)}function At(c){return t.jsx(rt,{value:String(c.id),children:c.title},c.id)}function Mt(c){return{type:"file",value:URL.createObjectURL(c),file:c}}function gs(c){const e=st.c(75),{products:X,game_modes:x,categories:A}=c,[o,Re]=Be.useState(""),[s,i]=Be.useState(null),[l,m]=Be.useState(null);let K;e[0]===Symbol.for("react.memo_cache_sentinel")?(K=[],e[0]=K):K=e[0];let Q;e[1]===Symbol.for("react.memo_cache_sentinel")?(Q={id:null,game_mode_id:"",category_id:"",name:"",slug:"",price:"",stock:"",short_description:"",is_active:!0,main_icon_url:null,main_icon_preview:null,images:K},e[1]=Q):Q=e[1];const n=ct(Q);let F;if(e[2]!==X.data||e[3]!==o){let a;e[5]!==o?(a=V=>V.name.toLowerCase().includes(o.toLowerCase())||V.slug.toLowerCase().includes(o.toLowerCase()),e[5]=o,e[6]=a):a=e[6],F=X.data.filter(a),e[2]=X.data,e[3]=o,e[4]=F}else F=e[4];const z=F;let Y;e[7]!==n?(Y=()=>{n.reset(),i("create")},e[7]=n,e[8]=Y):Y=e[8];const Z=Y;let ee;e[9]!==n?(ee=a=>{n.clearErrors(),n.setData({id:a.id,game_mode_id:String(a.game_mode_id),category_id:String(a.category_id),name:a.name,slug:a.slug,short_description:a.short_description??"",price:String(a.price),stock:String(a.stock),is_active:!!a.is_active,main_icon_url:a.main_icon_url??null,main_icon_preview:null,images:a.images.map(Ft)}),i("edit")},e[9]=n,e[10]=ee):ee=e[10];const te=ee;let se;e[11]===Symbol.for("react.memo_cache_sentinel")?(se=a=>{lt.delete(at("admin.products.destroy",a),{preserveScroll:!0,onSuccess:()=>m(null)})},e[11]=se):se=e[11];const ce=se,$e=Ht;let G;e[12]===Symbol.for("react.memo_cache_sentinel")?(G=t.jsx(nt,{title:"Products • Admin"}),e[12]=G):G=e[12];let le;e[13]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx("h1",{className:"text-3xl lg:text-4xl font-black tracking-tight text-white",children:"Products"}),e[13]=le):le=e[13];let f;e[14]!==X.total?(f=t.jsxs("div",{children:[le,t.jsxs("p",{className:"mt-2 text-zinc-400",children:["Manage all store items • ",t.jsx("strong",{children:X.total})," total"]})]}),e[14]=X.total,e[15]=f):f=e[15];let C;e[16]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx(xt,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-zinc-500"}),e[16]=C):C=e[16];let k;e[17]===Symbol.for("react.memo_cache_sentinel")?(k=a=>Re(a.target.value),e[17]=k):k=e[17];let h;e[18]!==o?(h=t.jsxs("div",{className:"relative w-64 lg:w-80",children:[C,t.jsx(Te,{placeholder:"Search name or slug...",className:"pl-10 border-zinc-700 bg-zinc-900 focus:border-orange-500",value:o,onChange:k})]}),e[18]=o,e[19]=h):h=e[19];let O;e[20]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx(kt,{size:18}),e[20]=O):O=e[20];let M;e[21]!==Z?(M=t.jsxs(S,{onClick:Z,className:"gap-2 bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-500 hover:to-orange-400 shadow-lg shadow-orange-900/30",children:[O,"New Product"]}),e[21]=Z,e[22]=M):M=e[22];let P;e[23]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx(S,{variant:"outline",size:"icon",onClick:$e,title:"Refresh",children:t.jsx(zt,{size:18})}),e[23]=P):P=e[23];let g;e[24]!==h||e[25]!==M?(g=t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[h,M,P]}),e[24]=h,e[25]=M,e[26]=g):g=e[26];let p;e[27]!==g||e[28]!==f?(p=t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[f,g]}),e[27]=g,e[28]=f,e[29]=p):p=e[29];let u;e[30]!==z.length?(u=t.jsx(ft,{className:"border-b border-zinc-800",children:t.jsxs(ht,{className:"text-xl",children:["All Products (",z.length,")"]})}),e[30]=z.length,e[31]=u):u=e[31];let b;e[32]!==z||e[33]!==te||e[34]!==o?(b=t.jsx(gt,{className:"p-0",children:z.length===0?t.jsxs("div",{className:"py-24 text-center text-zinc-500",children:[t.jsx("p",{className:"text-lg font-medium",children:o?"No matching products":"No products created yet"}),!o&&t.jsx("p",{className:"mt-3",children:'Click "New Product" to add your first item.'})]}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(ot,{children:[t.jsx(mt,{className:"bg-zinc-900/60",children:t.jsxs(Je,{className:"border-zinc-800 hover:bg-transparent",children:[t.jsx(Ae,{className:"w-24 text-xs font-bold text-orange-400 uppercase",children:"Preview"}),t.jsx(Ae,{className:"text-xs font-bold text-zinc-300 uppercase",children:"Product"}),t.jsx(Ae,{className:"text-xs font-bold text-zinc-300 uppercase hidden md:table-cell",children:"Description"}),t.jsx(Ae,{className:"text-xs font-bold text-zinc-300 uppercase",children:"Price / Stock"}),t.jsx(Ae,{className:"text-right text-xs font-bold text-zinc-300 uppercase pr-6",children:"Actions"})]})}),t.jsx(dt,{children:z.map(a=>t.jsxs(Je,{className:"group border-zinc-800 hover:bg-orange-950/10 transition-colors",children:[t.jsx(Me,{children:t.jsxs("div",{className:"flex items-center gap-3",children:[a.main_icon_url?t.jsx("img",{src:`/storage/${a.main_icon_url}`,alt:a.name,className:"h-14 w-14 rounded-md object-cover border border-zinc-700",onError:Et}):t.jsx("div",{className:"h-14 w-14 rounded-md bg-zinc-800 flex items-center justify-center text-zinc-600",children:t.jsx(It,{size:20})}),a.images?.length>0&&t.jsxs("div",{className:"flex -space-x-2",children:[a.images.slice(0,3).map(Ut),a.images.length>3&&t.jsxs("div",{className:"h-10 w-10 rounded-md bg-zinc-800 border-2 border-black flex items-center justify-center text-[10px] font-bold text-zinc-400",children:["+",a.images.length-3]})]})]})}),t.jsxs(Me,{children:[t.jsx("div",{className:"font-medium text-white group-hover:text-orange-400 transition-colors",children:a.name}),t.jsxs("div",{className:"mt-0.5 text-xs text-zinc-500 font-mono",children:[a.game_mode?.title||"—"," • ",a.category?.name||"Uncategorized"]})]}),t.jsx(Me,{className:"hidden md:table-cell",children:t.jsx("div",{className:"text-sm text-zinc-400 line-clamp-2 max-w-xs",children:a.short_description||"—"})}),t.jsxs(Me,{children:[t.jsxs("div",{className:"font-mono font-bold text-orange-400",children:["$",Number(a.price).toFixed(2)]}),t.jsxs("div",{className:"mt-0.5 text-xs text-zinc-500",children:[a.stock," in stock"]})]}),t.jsx(Me,{className:"text-right pr-4",children:t.jsxs("div",{className:"flex items-center justify-end gap-1",children:[t.jsx(S,{variant:"ghost",size:"icon",className:"h-8 w-8",children:t.jsx(wt,{size:16,className:"text-zinc-400"})}),t.jsx(S,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>te(a),children:t.jsx(St,{size:16,className:"text-blue-400"})}),t.jsx(S,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>m(a.id),children:t.jsx(Ct,{size:16,className:"text-red-500"})})]})})]},a.id))})]})})}),e[32]=z,e[33]=te,e[34]=o,e[35]=b):b=e[35];let L;e[36]!==u||e[37]!==b?(L=t.jsxs(pt,{className:"border-zinc-800/50 bg-gradient-to-b from-zinc-950 to-black overflow-hidden",children:[u,b]}),e[36]=u,e[37]=b,e[38]=L):L=e[38];const re=!!s;let D;e[39]===Symbol.for("react.memo_cache_sentinel")?(D=()=>i(null),e[39]=D):D=e[39];const ie=s==="create"?"Create New Product":"Edit Product";let j;e[40]!==ie?(j=t.jsx(bt,{className:"text-3xl font-black text-orange-500",children:ie}),e[40]=ie,e[41]=j):j=e[41];let _;e[42]!==n.data||e[43]!==s?(_=s==="edit"&&t.jsxs(ut,{className:"text-zinc-400 mt-1",children:["Product ID: ",t.jsxs("span",{className:"font-mono text-orange-400",children:["#",n.data.id]})]}),e[42]=n.data,e[43]=s,e[44]=_):_=e[44];let v;e[45]!==j||e[46]!==_?(v=t.jsxs(jt,{className:"px-8 py-6 border-b border-zinc-800 bg-black/40 backdrop-blur-sm",children:[j,_]}),e[45]=j,e[46]=_,e[47]=v):v=e[47];let B;e[48]===Symbol.for("react.memo_cache_sentinel")?(B=()=>i(null),e[48]=B):B=e[48];let U;e[49]!==A||e[50]!==n||e[51]!==x||e[52]!==s?(U=t.jsx("div",{className:"p-8 md:p-10 lg:p-12 overflow-y-auto",children:t.jsx(Tt,{form:n,mode:s,onClose:B,game_modes:x,categories:A})}),e[49]=A,e[50]=n,e[51]=x,e[52]=s,e[53]=U):U=e[53];let N;e[54]!==v||e[55]!==U?(N=t.jsxs(Xe,{className:"sm:max-w-6xl max-h-[95vh] overflow-hidden bg-gradient-to-br from-zinc-950 via-black to-zinc-950 border-zinc-700/40 shadow-2xl rounded-2xl p-0",children:[v,U]}),e[54]=v,e[55]=U,e[56]=N):N=e[56];let I;e[57]!==re||e[58]!==N?(I=t.jsx(Ke,{open:re,onOpenChange:D,children:N}),e[57]=re,e[58]=N,e[59]=I):I=e[59];const E=l!==null;let T;e[60]===Symbol.for("react.memo_cache_sentinel")?(T=()=>m(null),e[60]=T):T=e[60];let R,$;e[61]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx(Pt,{className:"mx-auto mb-5 h-14 w-14 text-red-500"}),$=t.jsx("h3",{className:"mb-3 text-2xl font-bold text-white",children:"Delete Product?"}),e[61]=R,e[62]=$):(R=e[61],$=e[62]);let W;e[63]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsxs("p",{className:"mb-8 text-zinc-300",children:["This action cannot be undone.",t.jsx("br",{}),"All associated data will be permanently removed."]}),e[63]=W):W=e[63];let ae;e[64]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx(S,{variant:"outline",onClick:()=>m(null),children:"Cancel"}),e[64]=ae):ae=e[64];let y;e[65]!==l?(y=t.jsx(Xe,{className:"sm:max-w-md border-red-900/40 bg-zinc-950",children:t.jsxs("div",{className:"py-6 text-center",children:[R,$,W,t.jsxs("div",{className:"flex justify-center gap-4",children:[ae,t.jsx(S,{variant:"destructive",onClick:()=>l&&ce(l),children:"Delete Forever"})]})]})}),e[65]=l,e[66]=y):y=e[66];let w;e[67]!==E||e[68]!==y?(w=t.jsx(Ke,{open:E,onOpenChange:T,children:y}),e[67]=E,e[68]=y,e[69]=w):w=e[69];let q;return e[70]!==p||e[71]!==L||e[72]!==I||e[73]!==w?(q=t.jsxs(_t,{children:[G,t.jsxs("div",{className:"space-y-8 p-6 lg:p-8",children:[p,L,I,w]})]}),e[70]=p,e[71]=L,e[72]=I,e[73]=w,e[74]=q):q=e[74],q}function Ut(c,e){return t.jsx("img",{src:`/storage/${c.image_url}`,alt:"gallery",className:"h-10 w-10 rounded-md object-cover border-2 border-black shadow-sm"},e)}function Et(c){return c.currentTarget.style.display="none"}function Ht(){lt.reload({only:["products"]})}function Ft(c){return{id:c.id,type:"url",value:c.image_url.startsWith("http")?c.image_url:`/storage/${c.image_url}`,file:null}}export{gs as default};
