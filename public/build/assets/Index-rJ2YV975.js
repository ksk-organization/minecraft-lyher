import{c as qe,j as s,r as Ne,u as Ge,a as ae,H as Je}from"./app-si8xdoL5.js";import{c as $e,B as N}from"./button-BS_WtdaB.js";import{I as Se}from"./input-CkuxkP8h.js";import{T as Qe,a as We,b as Ke,c as ve,d as Xe,e as _e,S as Ye}from"./table-D5naC454.js";import{C as Ze,a as es,b as ss,c as ts}from"./card-D6FZvwG6.js";import{D as Re,a as Ue,b as He,c as Oe,d as Ie,e as Pe}from"./dialog-MIDsTqYV.js";import{s as Be}from"./index-BsxvijQw.js";import{A as ls}from"./app-layout-Xlk7saQ9.js";import{L as Me}from"./label--yJ_Ietz.js";import{E as rs,R as as}from"./refresh-cw-HcdrEk58.js";import{P as is,T as os}from"./trash-2-DwJ0ctpN.js";import{L as cs}from"./loader-circle-orrvZ0UI.js";import{C as ns}from"./circle-plus-BQTD5iMa.js";import{C as ds}from"./circle-alert-Daiv3m_w.js";/* empty css            */import"./x-CG9rMSE1.js";import"./FlashMessage-CdoxWaqN.js";import"./index-CujMS4ut.js";import"./tooltip-UMoC5d0b.js";import"./index-BNG-m0Zv.js";import"./app-logo-icon-D94GVInu.js";import"./package-_UIg7UnL.js";function ms(we){const e=qe.c(46),{data:o,setData:l,errors:n,processing:c}=we;let m;e[0]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsx(Me,{htmlFor:"name",children:"Category Name *"}),e[0]=m):m=e[0];const T=o.name;let f;e[1]!==l?(f=C=>l("name",C.target.value),e[1]=l,e[2]=f):f=e[2];const d=n.name&&"border-destructive focus:border-destructive";let p;e[3]!==d?(p=$e(d),e[3]=d,e[4]=p):p=e[4];let h;e[5]!==o.name||e[6]!==c||e[7]!==f||e[8]!==p?(h=s.jsx(Se,{id:"name",value:T,onChange:f,placeholder:"Ranks, Crates, Keys...",disabled:c,className:p}),e[5]=o.name,e[6]=c,e[7]=f,e[8]=p,e[9]=h):h=e[9];let t;e[10]!==n.name?(t=n.name&&s.jsx("p",{className:"text-sm text-destructive",children:n.name}),e[10]=n.name,e[11]=t):t=e[11];let a;e[12]!==h||e[13]!==t?(a=s.jsxs("div",{className:"space-y-2",children:[m,h,t]}),e[12]=h,e[13]=t,e[14]=a):a=e[14];let S;e[15]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx(Me,{htmlFor:"slug",children:"Slug *"}),e[15]=S):S=e[15];const z=o.slug;let i;e[16]!==l?(i=C=>l("slug",C.target.value.toLowerCase().replace(/\s+/g,"-")),e[16]=l,e[17]=i):i=e[17];const w=n.slug&&"border-destructive focus:border-destructive";let j;e[18]!==w?(j=$e(w),e[18]=w,e[19]=j):j=e[19];let x;e[20]!==o.slug||e[21]!==c||e[22]!==i||e[23]!==j?(x=s.jsx(Se,{id:"slug",value:z,onChange:i,placeholder:"ranks, crates, keys...",disabled:c,className:j}),e[20]=o.slug,e[21]=c,e[22]=i,e[23]=j,e[24]=x):x=e[24];let y;e[25]!==n.slug?(y=n.slug&&s.jsx("p",{className:"text-sm text-destructive",children:n.slug}),e[25]=n.slug,e[26]=y):y=e[26];let g;e[27]!==x||e[28]!==y?(g=s.jsxs("div",{className:"space-y-2",children:[S,x,y]}),e[27]=x,e[28]=y,e[29]=g):g=e[29];let b;e[30]!==g||e[31]!==a?(b=s.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a,g]}),e[30]=g,e[31]=a,e[32]=b):b=e[32];let v;e[33]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx(Me,{htmlFor:"display_order",children:"Display Order"}),e[33]=v):v=e[33];let D;e[34]!==l?(D=C=>l("display_order",Number(C.target.value)||0),e[34]=l,e[35]=D):D=e[35];let u;e[36]!==o.display_order||e[37]!==c||e[38]!==D?(u=s.jsx(Se,{id:"display_order",type:"number",min:"0",value:o.display_order,onChange:D,disabled:c}),e[36]=o.display_order,e[37]=c,e[38]=D,e[39]=u):u=e[39];let k;e[40]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx("p",{className:"text-xs text-muted-foreground",children:"Lower numbers appear first in menus and listings"}),e[40]=k):k=e[40];let L;e[41]!==u?(L=s.jsxs("div",{className:"space-y-2",children:[v,u,k]}),e[41]=u,e[42]=L):L=e[42];let _;return e[43]!==b||e[44]!==L?(_=s.jsxs("div",{className:"space-y-6 py-4",children:[b,L]}),e[43]=b,e[44]=L,e[45]=_):_=e[45],_}function Rs(we){const e=qe.c(114),{categories:o}=we,[l,n]=Ne.useState(""),[c,m]=Ne.useState(null),[T,f]=Ne.useState(null),[d,p]=Ne.useState(null);let h;e[0]===Symbol.for("react.memo_cache_sentinel")?(h={id:0,name:"",slug:"",display_order:0},e[0]=h):h=e[0];const t=Ge(h),a=c==="create",S=c==="edit";let z;if(e[1]!==o||e[2]!==l){let r;e[4]!==l?(r=Ve=>Ve.name.toLowerCase().includes(l.toLowerCase())||Ve.slug.toLowerCase().includes(l.toLowerCase()),e[4]=l,e[5]=r):r=e[5],z=o.filter(r),e[1]=o,e[2]=l,e[3]=z}else z=e[3];const i=z;let w;e[6]!==t?(w=()=>{t.reset(),m("create")},e[6]=t,e[7]=w):w=e[7];const j=w;let x;e[8]!==t?(x=r=>{t.setData({id:r.id,name:r.name,slug:r.slug,display_order:r.display_order}),m("edit")},e[8]=t,e[9]=x):x=e[9];const y=x;let g;e[10]!==t||e[11]!==a||e[12]!==S?(g=r=>{r.preventDefault(),a?t.post(Be("admin.categories.store"),{preserveScroll:!0,onSuccess:()=>{t.reset(),m(null),ae.reload({only:["categories"]})}}):S&&t.put(Be("admin.categories.update",t.data.id),{preserveScroll:!0,onSuccess:()=>{m(null),ae.reload({only:["categories"]})}})},e[10]=t,e[11]=a,e[12]=S,e[13]=g):g=e[13];const b=g;let v;e[14]===Symbol.for("react.memo_cache_sentinel")?(v=r=>{f(r)},e[14]=v):v=e[14];const D=v;let u;e[15]!==T?(u=()=>{T&&ae.delete(Be("admin.categories.destroy",T),{preserveScroll:!0,onSuccess:()=>{f(null),ae.reload({only:["categories"]})}})},e[15]=T,e[16]=u):u=e[16];const k=u,L=fs;let _;e[17]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsx(Je,{title:"Admin | Categories"}),e[17]=_):_=e[17];let C;e[18]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx("div",{children:s.jsx("h1",{className:"text-3xl font-black tracking-tight",children:"Categories"})}),e[18]=C):C=e[18];let ie;e[19]===Symbol.for("react.memo_cache_sentinel")?(ie=s.jsx(Ye,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e[19]=ie):ie=e[19];let oe;e[20]===Symbol.for("react.memo_cache_sentinel")?(oe=r=>n(r.target.value),e[20]=oe):oe=e[20];let A;e[21]!==l?(A=s.jsxs("div",{className:"relative w-64 lg:w-72",children:[ie,s.jsx(Se,{placeholder:"Search categories...",className:"pl-10 bg-black/30 border-white/10",value:l,onChange:oe})]}),e[21]=l,e[22]=A):A=e[22];let ce;e[23]===Symbol.for("react.memo_cache_sentinel")?(ce=s.jsx(ns,{size:18}),e[23]=ce):ce=e[23];let E;e[24]!==j?(E=s.jsxs(N,{onClick:j,className:"gap-2 shadow-sm",children:[ce,"New Category"]}),e[24]=j,e[25]=E):E=e[25];let ne;e[26]===Symbol.for("react.memo_cache_sentinel")?(ne=s.jsx(N,{variant:"outline",size:"icon",onClick:L,title:"Refresh list",children:s.jsx(as,{size:18})}),e[26]=ne):ne=e[26];let F;e[27]!==A||e[28]!==E?(F=s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-5",children:[C,s.jsxs("div",{className:"flex items-center gap-4",children:[A,E,ne]})]}),e[27]=A,e[28]=E,e[29]=F):F=e[29];let R;e[30]!==i.length?(R=s.jsx(Ze,{className:"border-b border-white/5",children:s.jsx(es,{className:"flex items-center justify-between",children:s.jsxs("span",{children:["All Categories (",i.length,")"]})})}),e[30]=i.length,e[31]=R):R=e[31];let H;e[32]!==i||e[33]!==y||e[34]!==l?(H=s.jsx(ss,{className:"p-0",children:i.length===0?s.jsxs("div",{className:"py-16 text-center text-muted-foreground",children:[s.jsx("p",{className:"text-lg font-medium",children:l?"No matching categories":"No categories yet"}),!l&&s.jsx("p",{className:"mt-2",children:'Click "New Category" to create your first one.'})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Qe,{children:[s.jsx(We,{children:s.jsxs(Ke,{className:"hover:bg-transparent border-b border-white/5",children:[s.jsx(ve,{children:"Name"}),s.jsx(ve,{children:"Slug"}),s.jsx(ve,{children:"Display Order"}),s.jsx(ve,{className:"text-right pr-6",children:"Actions"})]})}),s.jsx(Xe,{children:i.map(r=>s.jsxs(Ke,{className:"hover:bg-white/5 border-b border-white/5",children:[s.jsx(_e,{className:"font-medium",children:r.name}),s.jsx(_e,{className:"font-mono text-muted-foreground",children:r.slug}),s.jsx(_e,{className:"font-medium",children:r.display_order}),s.jsxs(_e,{className:"text-right space-x-1 pr-4",children:[s.jsx(N,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>p(r),title:"View details",children:s.jsx(rs,{size:16})}),s.jsx(N,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>y(r),title:"Edit category",children:s.jsx(is,{size:16})}),s.jsx(N,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive/90",onClick:()=>D(r.id),title:"Delete category",children:s.jsx(os,{size:16})})]})]},r.id))})]})})}),e[32]=i,e[33]=y,e[34]=l,e[35]=H):H=e[35];let O;e[36]!==R||e[37]!==H?(O=s.jsxs(ts,{className:"border-white/5 bg-[#1f1f1f] overflow-hidden",children:[R,H]}),e[36]=R,e[37]=H,e[38]=O):O=e[38];const De=!!c;let de;e[39]===Symbol.for("react.memo_cache_sentinel")?(de=()=>m(null),e[39]=de):de=e[39];const ke=a?"Create New Category":"Edit Category";let I;e[40]!==ke?(I=s.jsx(Re,{children:ke}),e[40]=ke,e[41]=I):I=e[41];const Le=a?"Add a new product category.":"Update category details.";let P;e[42]!==Le?(P=s.jsx(Ue,{children:Le}),e[42]=Le,e[43]=P):P=e[43];let B;e[44]!==I||e[45]!==P?(B=s.jsxs(He,{children:[I,P]}),e[44]=I,e[45]=P,e[46]=B):B=e[46];let M;e[47]!==t.data||e[48]!==t.errors||e[49]!==t.processing||e[50]!==t.setData?(M=s.jsx(ms,{data:t.data,setData:t.setData,errors:t.errors,processing:t.processing}),e[47]=t.data,e[48]=t.errors,e[49]=t.processing,e[50]=t.setData,e[51]=M):M=e[51];let me;e[52]===Symbol.for("react.memo_cache_sentinel")?(me=()=>m(null),e[52]=me):me=e[52];let V;e[53]!==t.processing?(V=s.jsx(N,{variant:"outline",onClick:me,disabled:t.processing,children:"Cancel"}),e[53]=t.processing,e[54]=V):V=e[54];let $;e[55]!==t.processing||e[56]!==a?($=t.processing?s.jsxs(s.Fragment,{children:[s.jsx(cs,{className:"mr-2 h-4 w-4 animate-spin"}),a?"Creating...":"Saving..."]}):a?"Create Category":"Save Changes",e[55]=t.processing,e[56]=a,e[57]=$):$=e[57];let K;e[58]!==t.processing||e[59]!==b||e[60]!==$?(K=s.jsx(N,{onClick:b,disabled:t.processing,className:"min-w-[140px]",children:$}),e[58]=t.processing,e[59]=b,e[60]=$,e[61]=K):K=e[61];let U;e[62]!==V||e[63]!==K?(U=s.jsxs(Oe,{className:"gap-3",children:[V,K]}),e[62]=V,e[63]=K,e[64]=U):U=e[64];let q;e[65]!==B||e[66]!==M||e[67]!==U?(q=s.jsxs(Ie,{className:"sm:max-w-lg bg-[#1f1f1f] border-white/10",children:[B,M,U]}),e[65]=B,e[66]=M,e[67]=U,e[68]=q):q=e[68];let G;e[69]!==De||e[70]!==q?(G=s.jsx(Pe,{open:De,onOpenChange:de,children:q}),e[69]=De,e[70]=q,e[71]=G):G=e[71];const Te=T!==null;let fe;e[72]===Symbol.for("react.memo_cache_sentinel")?(fe=()=>f(null),e[72]=fe):fe=e[72];let he;e[73]===Symbol.for("react.memo_cache_sentinel")?(he=s.jsxs(Re,{className:"flex items-center gap-2 text-destructive",children:[s.jsx(ds,{className:"h-5 w-5"}),"Confirm Deletion"]}),e[73]=he):he=e[73];let xe;e[74]===Symbol.for("react.memo_cache_sentinel")?(xe=s.jsxs(He,{children:[he,s.jsxs(Ue,{className:"pt-2",children:["Are you sure you want to delete this category?",s.jsx("br",{}),s.jsx("span",{className:"text-destructive font-medium",children:"Products assigned to it may become uncategorized."})]})]}),e[74]=xe):xe=e[74];let ge;e[75]===Symbol.for("react.memo_cache_sentinel")?(ge=s.jsx(N,{variant:"outline",onClick:()=>f(null),children:"Cancel"}),e[75]=ge):ge=e[75];let J;e[76]!==k?(J=s.jsxs(Ie,{className:"sm:max-w-md",children:[xe,s.jsxs(Oe,{className:"gap-3",children:[ge,s.jsx(N,{variant:"destructive",onClick:k,children:"Delete Category"})]})]}),e[76]=k,e[77]=J):J=e[77];let Q;e[78]!==Te||e[79]!==J?(Q=s.jsx(Pe,{open:Te,onOpenChange:fe,children:J}),e[78]=Te,e[79]=J,e[80]=Q):Q=e[80];const ze=!!d;let ue;e[81]===Symbol.for("react.memo_cache_sentinel")?(ue=()=>p(null),e[81]=ue):ue=e[81];const Ae=d?.name;let W;e[82]!==Ae?(W=s.jsx(He,{children:s.jsx(Re,{children:Ae})}),e[82]=Ae,e[83]=W):W=e[83];let pe;e[84]===Symbol.for("react.memo_cache_sentinel")?(pe=s.jsx("h4",{className:"font-semibold text-sm mb-1 text-muted-foreground",children:"Slug"}),e[84]=pe):pe=e[84];const Ee=d?.slug;let X;e[85]!==Ee?(X=s.jsxs("div",{children:[pe,s.jsx("p",{className:"font-mono",children:Ee})]}),e[85]=Ee,e[86]=X):X=e[86];let je;e[87]===Symbol.for("react.memo_cache_sentinel")?(je=s.jsx("h4",{className:"font-semibold text-sm mb-1 text-muted-foreground",children:"Display Order"}),e[87]=je):je=e[87];const Fe=d?.display_order??0;let Y;e[88]!==Fe?(Y=s.jsxs("div",{children:[je,s.jsx("p",{className:"font-medium",children:Fe})]}),e[88]=Fe,e[89]=Y):Y=e[89];let Z;e[90]!==X||e[91]!==Y?(Z=s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[X,Y]}),e[90]=X,e[91]=Y,e[92]=Z):Z=e[92];let ye;e[93]===Symbol.for("react.memo_cache_sentinel")?(ye=s.jsx("h4",{className:"font-semibold text-sm mb-1 text-muted-foreground",children:"Created"}),e[93]=ye):ye=e[93];let ee;e[94]!==d?(ee=d?.created_at?new Date(d.created_at).toLocaleString():"â€”",e[94]=d,e[95]=ee):ee=e[95];let se;e[96]!==ee?(se=s.jsxs("div",{children:[ye,s.jsx("p",{className:"text-sm",children:ee})]}),e[96]=ee,e[97]=se):se=e[97];let te;e[98]!==Z||e[99]!==se?(te=s.jsxs("div",{className:"space-y-6 py-4",children:[Z,se]}),e[98]=Z,e[99]=se,e[100]=te):te=e[100];let be;e[101]===Symbol.for("react.memo_cache_sentinel")?(be=s.jsx(Oe,{children:s.jsx(N,{variant:"outline",onClick:()=>p(null),children:"Close"})}),e[101]=be):be=e[101];let le;e[102]!==W||e[103]!==te?(le=s.jsxs(Ie,{className:"sm:max-w-md",children:[W,te,be]}),e[102]=W,e[103]=te,e[104]=le):le=e[104];let re;e[105]!==ze||e[106]!==le?(re=s.jsx(Pe,{open:ze,onOpenChange:ue,children:le}),e[105]=ze,e[106]=le,e[107]=re):re=e[107];let Ce;return e[108]!==F||e[109]!==O||e[110]!==G||e[111]!==Q||e[112]!==re?(Ce=s.jsxs(ls,{children:[_,s.jsxs("div",{className:"p-6 lg:p-8 space-y-8",children:[F,O,G,Q,re]})]}),e[108]=F,e[109]=O,e[110]=G,e[111]=Q,e[112]=re,e[113]=Ce):Ce=e[113],Ce}function fs(){ae.reload({only:["categories"]})}export{Rs as default};
