import{c as ae,j as t,r as u,H as De,L as Oe}from"./app-lyGRyf8f.js";import{a as ye,c as te,B as Me}from"./button-DPFqSIdc.js";import{I as Te}from"./input-CFVYztDk.js";import{C as Ie,a as Ee,b as Le,c as Ue}from"./card-B0PmDw4X.js";import{L as je}from"./label-zF2C2Mgq.js";import{S as Be,L as Re}from"./layout-B8be7n5g.js";import{B as Fe}from"./badge-DD7NFomY.js";import{U as Ae}from"./upload-HvA-Gxbq.js";import{b as He,c as Ge,T as qe,a as Qe,G as We}from"./tooltip-DBmalTVd.js";import{M as Ye}from"./monitor-CFXsG6Ys.js";import{C as Je}from"./circle-alert-DMach7h6.js";import{L as Ke}from"./loader-circle-CFYZYl0x.js";import"./app-DZu5-7ih.js";import"./index-Dul2L6VF.js";import"./proxy-Z1lU3CN1.js";import"./index-BE0fDQb_.js";const Ve=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Xe=ye("ChevronLeft",Ve);const Ze=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Pe=ye("CircleCheck",Ze);const et=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],tt=ye("QrCode",et);const st=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],at=ye("Smartphone",st);function lt(p){const e=ae.c(11),{mainImage:s,thumbnails:r,alt:i,onThumbClick:n}=p;let c;e[0]!==i||e[1]!==s?(c=t.jsx("div",{className:"relative aspect-square overflow-hidden rounded-2xl border border-white/5 bg-[#0f0f0f] shadow-2xl",children:t.jsx("img",{src:s,alt:i,className:"h-full w-full object-contain p-8 transition-transform duration-700 hover:scale-105 md:p-12",loading:"eager"})}),e[0]=i,e[1]=s,e[2]=c):c=e[2];let l;e[3]!==i||e[4]!==s||e[5]!==n||e[6]!==r?(l=r.length>1&&t.jsx("div",{className:"scrollbar-thin scrollbar-thumb-white/10 flex gap-3 overflow-x-auto pb-2",children:r.map((a,m)=>t.jsx("button",{type:"button",onClick:()=>n(a),className:te("h-20 w-20 flex-shrink-0 rounded-xl border-2 bg-[#121212] p-2 transition-all",s===a?"border-primary shadow-[0_0_15px_rgba(var(--primary),0.4)]":"border-transparent opacity-60 hover:opacity-90"),children:t.jsx("img",{src:a,alt:`${i} preview ${m+1}`,className:"h-full w-full object-contain"})},m))}),e[3]=i,e[4]=s,e[5]=n,e[6]=r,e[7]=l):l=e[7];let o;return e[8]!==c||e[9]!==l?(o=t.jsxs("div",{className:"space-y-5",children:[c,l]}),e[8]=c,e[9]=l,e[10]=o):o=e[10],o}function rt(p){const e=ae.c(14),{file:s,onFileChange:r}=p;let i;e[0]!==r?(i=g=>{g.preventDefault();const d=g.dataTransfer.files[0];d?.type.startsWith("image/")&&r(d)},e[0]=r,e[1]=i):i=e[1];const n=i;let c;e[2]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx(je,{className:"text-xs font-black tracking-widest text-muted-foreground uppercase",children:"Upload Payment Proof"}),e[2]=c):c=e[2];const l=s?"border-green-600/50 bg-green-950/20":"border-white/10 bg-black/20 hover:border-primary/40";let o;e[3]!==l?(o=te("cursor-pointer rounded-2xl border-2 border-dashed p-10 text-center transition-all",l),e[3]=l,e[4]=o):o=e[4];let a;e[5]!==r?(a=t.jsx("input",{type:"file",accept:"image/*",onChange:g=>r(g.target.files?.[0]??null),className:"hidden",id:"receipt-upload"}),e[5]=r,e[6]=a):a=e[6];let m;e[7]!==s?(m=t.jsx("label",{htmlFor:"receipt-upload",className:"cursor-pointer",children:s?t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{className:"mx-auto h-10 w-10 text-green-500"}),t.jsx("p",{className:"text-sm font-medium text-green-400",children:s.name})]}):t.jsxs(t.Fragment,{children:[t.jsx(Ae,{className:"mx-auto mb-3 h-8 w-8 text-muted-foreground"}),t.jsx("p",{className:"text-xs font-bold uppercase opacity-60",children:"Drop Screenshot or Click to Browse"})]})}),e[7]=s,e[8]=m):m=e[8];let f;return e[9]!==n||e[10]!==o||e[11]!==a||e[12]!==m?(f=t.jsxs("div",{className:"space-y-2",children:[c,t.jsxs("div",{onDrop:n,onDragOver:it,className:o,children:[a,m]})]}),e[9]=n,e[10]=o,e[11]=a,e[12]=m,e[13]=f):f=e[13],f}function it(p){return p.preventDefault()}function ot(p){const e=ae.c(13),{finalPrice:s,platform:r}=p;let i;e[0]!==r?(i=r.toUpperCase(),e[0]=r,e[1]=i):i=e[1];let n;e[2]!==i?(n=t.jsxs("div",{className:"text-xs font-black tracking-widest uppercase opacity-50",children:["Scan to Pay (",i,")"]}),e[2]=i,e[3]=n):n=e[3];let c;e[4]===Symbol.for("react.memo_cache_sentinel")?(c=t.jsx("div",{className:"mx-auto h-40 w-40 rounded-xl bg-white p-4 shadow-inner",children:t.jsx(tt,{size:128,className:"mx-auto text-black"})}),e[4]=c):c=e[4];let l;e[5]===Symbol.for("react.memo_cache_sentinel")?(l=t.jsx("span",{className:"uppercase opacity-70",children:"Total Due"}),e[5]=l):l=e[5];let o;e[6]!==s?(o=s.toFixed(2),e[6]=s,e[7]=o):o=e[7];let a;e[8]!==o?(a=t.jsxs("div",{className:"flex items-center justify-between border-t border-white/10 pt-4 text-sm font-semibold",children:[l,t.jsxs("span",{className:"font-mono text-2xl text-primary",children:["$",o]})]}),e[8]=o,e[9]=a):a=e[9];let m;return e[10]!==n||e[11]!==a?(m=t.jsxs("div",{className:"space-y-5 rounded-2xl border border-white/5 bg-black/40 p-6 text-center",children:[n,c,a]}),e[10]=n,e[11]=a,e[12]=m):m=e[12],m}function nt(p){const e=ae.c(4),{value:s,onChange:r}=p;let i;e[0]===Symbol.for("react.memo_cache_sentinel")?(i=[{id:"java",label:"Java",icon:Ye},{id:"bedrock",label:"Bedrock",icon:We},{id:"pocket",label:"Pocket",icon:at}],e[0]=i):i=e[0];const n=i;let c;return e[1]!==r||e[2]!==s?(c=t.jsx(He,{children:t.jsx("div",{className:"grid grid-cols-3 gap-3",children:n.map(l=>{const{id:o,label:a,icon:m}=l;return t.jsxs(Ge,{children:[t.jsx(qe,{asChild:!0,children:t.jsxs("button",{type:"button",onClick:()=>r(o),className:te("flex flex-col items-center gap-2 rounded-xl border p-4 transition-all",s===o?"border-primary bg-primary/10 text-primary shadow-sm":"border-white/5 bg-black/20 text-muted-foreground hover:border-white/20"),children:[t.jsx(m,{size:20}),t.jsx("span",{className:"text-xs font-black uppercase",children:a})]})}),t.jsxs(Qe,{children:[a," Edition"]})]},o)})})}),e[1]=r,e[2]=s,e[3]=c):c=e[3],c}const ct=route("checkout.check-coupon");function Pt(p){const e=ae.c(124),{product:s}=p,[r,i]=u.useState(s?.main_icon_url?`/storage/${s.main_icon_url}`:"https://cdn-icons-png.flaticon.com/512/2317/2317997.png"),[n,c]=u.useState("java"),[l,o]=u.useState(""),[a,m]=u.useState(""),[f,g]=u.useState(""),[d,le]=u.useState(null),[h,$e]=u.useState(!1),[j,ze]=u.useState(null),b=s?.price||0,se=d?.valid?d.discount:0,ve=Math.max(0,b*(1-se/100));let re,ie;e[0]!==a?(re=()=>{const x=setTimeout(()=>{g(a.trim().toUpperCase())},500);return()=>clearTimeout(x)},ie=[a],e[0]=a,e[1]=re,e[2]=ie):(re=e[1],ie=e[2]),u.useEffect(re,ie);let oe,ne;e[3]!==f?(oe=()=>{if(!f){le(null);return}$e(!0),fetch(`${ct}?code=${encodeURIComponent(f)}`,{headers:{Accept:"application/json"}}).then(mt).then(x=>{x.valid?le({valid:!0,discount:x.discount??0,message:x.message||`${x.discount}% off`}):le({valid:!1,discount:0,message:x.message||"Invalid or expired code"})}).catch(()=>{le({valid:!1,discount:0,message:"Error checking code. Try again."})}).finally(()=>$e(!1))},ne=[f],e[3]=f,e[4]=oe,e[5]=ne):(oe=e[4],ne=e[5]),u.useEffect(oe,ne);let ce;e[6]!==a?(ce=()=>{a.trim()&&g(a.trim().toUpperCase())},e[6]=a,e[7]=ce):ce=e[7];const Ne=ce,ke=`NOMROTI | ${s.name}`;let y;e[8]!==ke?(y=t.jsx(De,{title:ke}),e[8]=ke,e[9]=y):y=e[9];let de;e[10]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx("nav",{className:"sticky top-0 z-40 border-b border-white/5 bg-black/70 backdrop-blur-lg",children:t.jsx("div",{className:"container mx-auto px-5 py-4 md:px-6",children:t.jsxs(Oe,{href:"/catalog",className:"inline-flex items-center gap-1.5 text-sm font-semibold text-muted-foreground transition-colors hover:text-primary",children:[t.jsx(Xe,{size:16}),"Back to Catalog"]})})}),e[10]=de):de=e[10];let v;e[11]!==r||e[12]!==s.images?(v=[r,...s.images.map(dt)],e[11]=r,e[12]=s.images,e[13]=v):v=e[13];let N;e[14]!==r||e[15]!==s.name||e[16]!==v?(N=t.jsx(lt,{mainImage:r,thumbnails:v,alt:s.name,onThumbClick:i}),e[14]=r,e[15]=s.name,e[16]=v,e[17]=N):N=e[17];let k;e[18]!==s.name?(k=t.jsx("h1",{className:"text-4xl font-black tracking-tight text-white uppercase italic md:text-5xl",children:s.name}),e[18]=s.name,e[19]=k):k=e[19];let _;e[20]!==b?(_=b.toFixed(2),e[20]=b,e[21]=_):_=e[21];let C;e[22]!==_?(C=t.jsxs("span",{className:"font-mono text-4xl font-bold text-primary md:text-5xl",children:["$",_]}),e[22]=_,e[23]=C):C=e[23];let w;e[24]!==se||e[25]!==b?(w=se>0&&t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"text-xl text-muted-foreground line-through opacity-70 md:text-2xl",children:["$",b.toFixed(2)]}),t.jsxs(Fe,{className:"border-green-500/40 bg-green-600/30 text-green-400",children:["-",se,"%"]})]}),e[24]=se,e[25]=b,e[26]=w):w=e[26];const _e=s.stock>0?"border-green-600/40 bg-green-950/30 text-green-400":"border-red-600/40 bg-red-950/30 text-red-400";let S;e[27]!==_e?(S=te("ml-2",_e),e[27]=_e,e[28]=S):S=e[28];const Ce=s.stock>0?`${s.stock} in stock`:"Out of stock";let P;e[29]!==S||e[30]!==Ce?(P=t.jsx(Fe,{variant:"outline",className:S,children:Ce}),e[29]=S,e[30]=Ce,e[31]=P):P=e[31];let $;e[32]!==C||e[33]!==w||e[34]!==P?($=t.jsxs("div",{className:"flex flex-wrap items-baseline gap-4",children:[C,w,P]}),e[32]=C,e[33]=w,e[34]=P,e[35]=$):$=e[35];let M;e[36]!==s.short_description?(M=s.short_description&&t.jsx("p",{className:"text-lg leading-relaxed text-zinc-300",children:s.short_description}),e[36]=s.short_description,e[37]=M):M=e[37];let T;e[38]!==k||e[39]!==$||e[40]!==M?(T=t.jsxs("header",{className:"space-y-4",children:[k,$,M]}),e[38]=k,e[39]=$,e[40]=M,e[41]=T):T=e[41];let me;e[42]===Symbol.for("react.memo_cache_sentinel")?(me=t.jsx(Ee,{className:"pb-4",children:t.jsx(Le,{className:"text-xl font-black tracking-wide uppercase",children:"Complete Your Purchase"})}),e[42]=me):me=e[42];let pe;e[43]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsx(je,{htmlFor:"ign",className:"text-xs font-black tracking-widest text-muted-foreground uppercase",children:"Minecraft Username (IGN)"}),e[43]=pe):pe=e[43];let he;e[44]===Symbol.for("react.memo_cache_sentinel")?(he=x=>o(x.target.value.trim()),e[44]=he):he=e[44];let I;e[45]!==l?(I=t.jsx(Te,{id:"ign",value:l,onChange:he,placeholder:"Your in-game name",className:"h-12 border-white/10 bg-black/30 pr-10"}),e[45]=l,e[46]=I):I=e[46];let E;e[47]!==l.length?(E=l.length>2&&t.jsx(Pe,{className:"absolute top-1/2 right-3 h-5 w-5 -translate-y-1/2 text-green-500"}),e[47]=l.length,e[48]=E):E=e[48];let L;e[49]!==I||e[50]!==E?(L=t.jsxs("div",{className:"space-y-2",children:[pe,t.jsxs("div",{className:"relative",children:[I,E]})]}),e[49]=I,e[50]=E,e[51]=L):L=e[51];let xe;e[52]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsx(je,{className:"text-xs font-black tracking-widest text-muted-foreground uppercase",children:"Platform"}),e[52]=xe):xe=e[52];let U;e[53]!==n?(U=t.jsxs("div",{className:"space-y-2",children:[xe,t.jsx(nt,{value:n,onChange:c})]}),e[53]=n,e[54]=U):U=e[54];let fe;e[55]===Symbol.for("react.memo_cache_sentinel")?(fe=t.jsx(je,{className:"text-xs font-black tracking-widest text-muted-foreground uppercase",children:"Promo Code"}),e[55]=fe):fe=e[55];let ue;e[56]===Symbol.for("react.memo_cache_sentinel")?(ue=x=>m(x.target.value.toUpperCase()),e[56]=ue):ue=e[56];const we=d?.valid&&"border-green-500/60 focus:border-green-500",Se=d?.valid===!1&&a&&"border-red-500/60 focus:border-red-500";let F;e[57]!==we||e[58]!==Se?(F=te("h-12 border-white/10 bg-black/30 pr-10 transition-colors duration-200",we,Se),e[57]=we,e[58]=Se,e[59]=F):F=e[59];let z;e[60]!==a||e[61]!==F?(z=t.jsx(Te,{value:a,onChange:ue,placeholder:"Enter code (e.g. WELCOME10)",className:F}),e[60]=a,e[61]=F,e[62]=z):z=e[62];let D;e[63]!==h?(D=h&&t.jsx(Ke,{className:"absolute top-1/2 right-3 h-5 w-5 -translate-y-1/2 animate-spin text-muted-foreground"}),e[63]=h,e[64]=D):D=e[64];let O;e[65]!==d?.valid||e[66]!==h?(O=!h&&d?.valid&&t.jsx(Pe,{className:"absolute top-1/2 right-3 h-5 w-5 -translate-y-1/2 text-green-500"}),e[65]=d?.valid,e[66]=h,e[67]=O):O=e[67];let B;e[68]!==d?.valid||e[69]!==h||e[70]!==a?(B=!h&&d?.valid===!1&&a&&t.jsx(Je,{className:"absolute top-1/2 right-3 h-5 w-5 -translate-y-1/2 text-red-500"}),e[68]=d?.valid,e[69]=h,e[70]=a,e[71]=B):B=e[71];let R;e[72]!==z||e[73]!==D||e[74]!==O||e[75]!==B?(R=t.jsxs("div",{className:"relative flex-1",children:[z,D,O,B]}),e[72]=z,e[73]=D,e[74]=O,e[75]=B,e[76]=R):R=e[76];let A;e[77]!==h||e[78]!==a?(A=h||!a.trim(),e[77]=h,e[78]=a,e[79]=A):A=e[79];let H;e[80]!==Ne||e[81]!==A?(H=t.jsx(Me,{variant:"secondary",size:"sm",onClick:Ne,disabled:A,className:"h-12 px-6",children:"Apply"}),e[80]=Ne,e[81]=A,e[82]=H):H=e[82];let G;e[83]!==R||e[84]!==H?(G=t.jsxs("div",{className:"flex gap-2",children:[R,H]}),e[83]=R,e[84]=H,e[85]=G):G=e[85];let q;e[86]!==d?(q=d&&t.jsx("p",{className:te("mt-1.5 text-sm",d.valid?"text-green-400":"text-red-400"),children:d.message}),e[86]=d,e[87]=q):q=e[87];let Q;e[88]!==G||e[89]!==q?(Q=t.jsxs("div",{className:"space-y-2",children:[fe,G,q]}),e[88]=G,e[89]=q,e[90]=Q):Q=e[90];let W;e[91]!==ve||e[92]!==n?(W=t.jsx(ot,{finalPrice:ve,platform:n}),e[91]=ve,e[92]=n,e[93]=W):W=e[93];let Y;e[94]!==j?(Y=t.jsx(rt,{file:j,onFileChange:ze}),e[94]=j,e[95]=Y):Y=e[95];let J;e[96]!==d||e[97]!==l||e[98]!==s.stock||e[99]!==a||e[100]!==j?(J=!l.trim()||!j||s.stock<=0||d&&!d.valid&&a.trim(),e[96]=d,e[97]=l,e[98]=s.stock,e[99]=a,e[100]=j,e[101]=J):J=e[101];let ge;e[102]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsx(Be,{className:"mr-2 h-5 w-5"}),e[102]=ge):ge=e[102];let K;e[103]!==J?(K=t.jsxs(Me,{disabled:J,className:"h-14 w-full bg-primary text-lg font-black tracking-wider uppercase transition-all hover:bg-primary/90",children:[ge,"Submit Payment"]}),e[103]=J,e[104]=K):K=e[104];let V;e[105]!==L||e[106]!==U||e[107]!==Q||e[108]!==W||e[109]!==Y||e[110]!==K?(V=t.jsxs(Ie,{className:"border-white/5 bg-gradient-to-b from-[#1a1a1a] to-[#121212] shadow-2xl",children:[me,t.jsxs(Ue,{className:"space-y-8 p-6 md:p-8",children:[L,U,Q,W,Y,K]})]}),e[105]=L,e[106]=U,e[107]=Q,e[108]=W,e[109]=Y,e[110]=K,e[111]=V):V=e[111];let X;e[112]!==s.long_description?(X=s.long_description&&t.jsxs(Ie,{className:"border-white/5 bg-[#1a1a1a] shadow-xl",children:[t.jsx(Ee,{children:t.jsx(Le,{className:"text-lg font-black uppercase",children:"Product Details"})}),t.jsx(Ue,{className:"leading-relaxed whitespace-pre-line text-zinc-300",children:s.long_description})]}),e[112]=s.long_description,e[113]=X):X=e[113];let Z;e[114]!==T||e[115]!==V||e[116]!==X?(Z=t.jsxs("div",{className:"space-y-10",children:[T,V,X]}),e[114]=T,e[115]=V,e[116]=X,e[117]=Z):Z=e[117];let ee;e[118]!==N||e[119]!==Z?(ee=t.jsx("main",{className:"container mx-auto px-5 py-10 md:px-6 md:py-16",children:t.jsxs("div",{className:"grid gap-10 lg:grid-cols-2 lg:gap-16",children:[N,Z]})}),e[118]=N,e[119]=Z,e[120]=ee):ee=e[120];let be;return e[121]!==ee||e[122]!==y?(be=t.jsxs(Re,{children:[y,de,ee]}),e[121]=ee,e[122]=y,e[123]=be):be=e[123],be}function dt(p){return`/storage/${p.image_url}`}function mt(p){return p.json()}export{Pt as default};
