import{c as lt,r as We,j as t,u as nt,a as it,H as ot}from"./app-DQ_jg78D.js";import{a as at,B as S}from"./button-BafA12P4.js";import{I as Re}from"./input-DcXUgK5A.js";import{T as mt,a as dt,b as Xe,c as Me,d as xt,e as Ue,S as ft}from"./table-COrZqZB6.js";import{C as ht,a as gt,b as pt,c as ut}from"./card-ISmOLmhg.js";import{a as bt,D as jt,b as _t,d as Ke,e as Qe}from"./dialog-CJpQPkvj.js";import{s as rt}from"./index-BsxvijQw.js";import{A as vt}from"./app-layout-nw_-mKBJ.js";import{S as Nt}from"./switch-tt5BCEJ0.js";import{L as F}from"./label-CWevPl0Y.js";import{T as yt}from"./textarea-D3u-dq69.js";import{a as Ye,b as Ze,c as et,S as tt,d as ct}from"./select-BKdICHo4.js";import{X as st}from"./x-DAB_PdwV.js";import{L as wt}from"./loader-circle-Dg3GQe50.js";import{E as zt,R as St}from"./refresh-cw-CrGX_Twk.js";import{P as Ct,T as kt}from"./trash-2-glyPQWwY.js";import{C as Pt}from"./circle-plus-R-W3rrgo.js";import{C as Lt}from"./circle-alert-BMnFhHE3.js";/* empty css            */import"./FlashMessage-DoQl3C28.js";import"./index-D9yNJiv_.js";import"./tooltip-DClzn1wm.js";import"./index-CPOV6ARk.js";import"./app-logo-icon-BuR2g2gZ.js";import"./package-B5qxZr2H.js";import"./index-dzSDOJEm.js";import"./check-D_TMLySM.js";const Dt=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Je=at("CloudUpload",Dt);const It=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Tt=at("Image",It);function Rt(r){const e=lt.c(166),{form:X,mode:x,onClose:A,game_modes:o,categories:$e}=r,{data:s,setData:i,processing:l,errors:m,post:K,put:Q}=X;let n,G;e[0]!==s.main_icon_preview?(n=()=>()=>{s.main_icon_preview&&s.main_icon_preview.startsWith("blob:")&&URL.revokeObjectURL(s.main_icon_preview)},G=[s.main_icon_preview],e[0]=s.main_icon_preview,e[1]=n,e[2]=G):(n=e[1],G=e[2]),We.useEffect(n,G);let z;e[3]!==i?(z=c=>{const d=c.target.files?.[0];if(!d)return;const re=URL.createObjectURL(d);i(H=>({...H,main_icon_url:d,main_icon_preview:re}))},e[3]=i,e[4]=z):z=e[4];const Y=z;let Z;e[5]!==i?(Z=c=>{const d=Array.from(c.target.files||[]);if(!d.length)return;const re=d.map(Et);i(H=>({...H,images:[...H.images||[],...re]}))},e[5]=i,e[6]=Z):Z=e[6];const ee=Z;let te;e[7]!==i?(te=c=>{i(d=>{const re=[...d.images||[]],H=re.splice(c,1)[0];return H?.type==="file"&&H.value.startsWith("blob:")&&URL.revokeObjectURL(H.value),{...d,images:re}})},e[7]=i,e[8]=te):te=e[8];const se=te;let ne;e[9]!==s.id||e[10]!==x||e[11]!==A||e[12]!==K||e[13]!==Q?(ne=c=>{c.preventDefault();const d=x==="create"?K:Q,re=x==="create"?"admin.products.store":"admin.products.update",H=x==="create"?[]:[s.id];d(rt(re,...H),{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{A()}})},e[9]=s.id,e[10]=x,e[11]=A,e[12]=K,e[13]=Q,e[14]=ne):ne=e[14];const Ae=ne;let O;e[15]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx(F,{className:"text-xs font-bold tracking-wider text-zinc-400 uppercase",children:"Name *"}),e[15]=O):O=e[15];const le=s.name||"";let f;e[16]!==i?(f=c=>i("name",c.target.value),e[16]=i,e[17]=f):f=e[17];let C;e[18]!==l||e[19]!==le||e[20]!==f?(C=t.jsx(Re,{value:le,onChange:f,className:"mt-1.5 border-zinc-700 bg-zinc-900 focus:border-orange-500",disabled:l}),e[18]=l,e[19]=le,e[20]=f,e[21]=C):C=e[21];let k;e[22]!==m.name?(k=m.name&&t.jsx("p",{className:"mt-1.5 text-xs text-red-400",children:m.name}),e[22]=m.name,e[23]=k):k=e[23];let h;e[24]!==C||e[25]!==k?(h=t.jsxs("div",{children:[O,C,k]}),e[24]=C,e[25]=k,e[26]=h):h=e[26];let B;e[27]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx(F,{className:"text-xs font-bold tracking-wider text-zinc-400 uppercase",children:"Slug *"}),e[27]=B):B=e[27];const M=s.slug||"";let P;e[28]!==i?(P=c=>i("slug",c.target.value),e[28]=i,e[29]=P):P=e[29];let g;e[30]!==l||e[31]!==M||e[32]!==P?(g=t.jsx(Re,{value:M,onChange:P,className:"mt-1.5 border-zinc-700 bg-zinc-900 focus:border-orange-500",disabled:l}),e[30]=l,e[31]=M,e[32]=P,e[33]=g):g=e[33];let p;e[34]!==m.slug?(p=m.slug&&t.jsx("p",{className:"mt-1.5 text-xs text-red-400",children:m.slug}),e[34]=m.slug,e[35]=p):p=e[35];let u;e[36]!==g||e[37]!==p?(u=t.jsxs("div",{children:[B,g,p]}),e[36]=g,e[37]=p,e[38]=u):u=e[38];let b;e[39]!==h||e[40]!==u?(b=t.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2",children:[h,u]}),e[39]=h,e[40]=u,e[41]=b):b=e[41];let L;e[42]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx(F,{className:"text-xs font-bold tracking-wider text-zinc-400 uppercase",children:"Game Mode"}),e[42]=L):L=e[42];const ce=String(s.game_mode_id||"");let D;e[43]!==i?(D=c=>i("game_mode_id",c),e[43]=i,e[44]=D):D=e[44];let ie;e[45]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx(Ye,{className:"mt-1.5 border-zinc-700 bg-zinc-900",children:t.jsx(Ze,{placeholder:"Select game mode"})}),e[45]=ie):ie=e[45];let j;e[46]!==o?(j=o.map(Ut),e[46]=o,e[47]=j):j=e[47];let _;e[48]!==j?(_=t.jsx(et,{children:j}),e[48]=j,e[49]=_):_=e[49];let v;e[50]!==l||e[51]!==ce||e[52]!==D||e[53]!==_?(v=t.jsxs("div",{children:[L,t.jsxs(tt,{value:ce,onValueChange:D,disabled:l,children:[ie,_]})]}),e[50]=l,e[51]=ce,e[52]=D,e[53]=_,e[54]=v):v=e[54];let W;e[55]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx(F,{className:"text-xs font-bold tracking-wider text-zinc-400 uppercase",children:"Category"}),e[55]=W):W=e[55];const U=String(s.category_id||"");let N;e[56]!==i?(N=c=>i("category_id",c),e[56]=i,e[57]=N):N=e[57];let I;e[58]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx(Ye,{className:"mt-1.5 border-zinc-700 bg-zinc-900",children:t.jsx(Ze,{placeholder:"Select category"})}),e[58]=I):I=e[58];let E;e[59]!==$e?(E=$e.map(Mt),e[59]=$e,e[60]=E):E=e[60];let T;e[61]!==E?(T=t.jsx(et,{children:E}),e[61]=E,e[62]=T):T=e[62];let R;e[63]!==l||e[64]!==U||e[65]!==N||e[66]!==T?(R=t.jsxs("div",{children:[W,t.jsxs(tt,{value:U,onValueChange:N,disabled:l,children:[I,T]})]}),e[63]=l,e[64]=U,e[65]=N,e[66]=T,e[67]=R):R=e[67];let $;e[68]!==v||e[69]!==R?($=t.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2",children:[v,R]}),e[68]=v,e[69]=R,e[70]=$):$=e[70];let q;e[71]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx(F,{className:"text-xs font-bold tracking-wider text-zinc-400 uppercase",children:"Short Description"}),e[71]=q):q=e[71];const ae=s.short_description||"";let y;e[72]!==i?(y=c=>i("short_description",c.target.value),e[72]=i,e[73]=y):y=e[73];let w;e[74]!==l||e[75]!==ae||e[76]!==y?(w=t.jsxs("div",{children:[q,t.jsx(yt,{value:ae,onChange:y,rows:3,className:"mt-1.5 border-zinc-700 bg-zinc-900 focus:border-orange-500",disabled:l})]}),e[74]=l,e[75]=ae,e[76]=y,e[77]=w):w=e[77];let V;e[78]===Symbol.for("react.memo_cache_sentinel")?(V=t.jsx(F,{className:"text-xs font-bold tracking-wider text-zinc-400 uppercase",children:"Price ($)"}),e[78]=V):V=e[78];const a=s.price??"";let J;e[79]!==i?(J=c=>i("price",c.target.value),e[79]=i,e[80]=J):J=e[80];let oe;e[81]!==l||e[82]!==a||e[83]!==J?(oe=t.jsxs("div",{children:[V,t.jsx(Re,{type:"number",step:"0.01",min:"0",value:a,onChange:J,className:"mt-1.5 border-zinc-700 bg-zinc-900 font-mono text-orange-400",disabled:l})]}),e[81]=l,e[82]=a,e[83]=J,e[84]=oe):oe=e[84];let Ee;e[85]===Symbol.for("react.memo_cache_sentinel")?(Ee=t.jsx(F,{className:"text-xs font-bold tracking-wider text-zinc-400 uppercase",children:"Stock"}),e[85]=Ee):Ee=e[85];const qe=s.stock??"";let me;e[86]!==i?(me=c=>i("stock",c.target.value),e[86]=i,e[87]=me):me=e[87];let de;e[88]!==l||e[89]!==qe||e[90]!==me?(de=t.jsxs("div",{children:[Ee,t.jsx(Re,{type:"number",min:"0",value:qe,onChange:me,className:"mt-1.5 border-zinc-700 bg-zinc-900",disabled:l})]}),e[88]=l,e[89]=qe,e[90]=me,e[91]=de):de=e[91];let xe;e[92]!==i?(xe=c=>i("is_active",c),e[92]=i,e[93]=xe):xe=e[93];let fe;e[94]!==s.is_active||e[95]!==l||e[96]!==xe?(fe=t.jsx(Nt,{checked:s.is_active,onCheckedChange:xe,disabled:l}),e[94]=s.is_active,e[95]=l,e[96]=xe,e[97]=fe):fe=e[97];const Ve=s.is_active?"Active":"Hidden";let he;e[98]!==Ve?(he=t.jsx(F,{className:"text-sm font-medium",children:Ve}),e[98]=Ve,e[99]=he):he=e[99];let ge;e[100]!==fe||e[101]!==he?(ge=t.jsxs("div",{className:"flex items-end gap-3 pb-2",children:[fe,he]}),e[100]=fe,e[101]=he,e[102]=ge):ge=e[102];let pe;e[103]!==oe||e[104]!==de||e[105]!==ge?(pe=t.jsxs("div",{className:"grid grid-cols-3 gap-5",children:[oe,de,ge]}),e[103]=oe,e[104]=de,e[105]=ge,e[106]=pe):pe=e[106];let ue;e[107]!==b||e[108]!==$||e[109]!==w||e[110]!==pe?(ue=t.jsxs("div",{className:"space-y-6",children:[b,$,w,pe]}),e[107]=b,e[108]=$,e[109]=w,e[110]=pe,e[111]=ue):ue=e[111];let He;e[112]===Symbol.for("react.memo_cache_sentinel")?(He=t.jsx(F,{className:"text-xs font-bold tracking-wider text-zinc-400 uppercase",children:"Main Product Icon"}),e[112]=He):He=e[112];let be;e[113]!==s.main_icon_preview||e[114]!==s.main_icon_url||e[115]!==i?(be=t.jsx("div",{className:"shrink-0",children:s.main_icon_preview||typeof s.main_icon_url=="string"&&s.main_icon_url?t.jsxs("div",{className:"relative group",children:[t.jsx("img",{src:s.main_icon_preview||s.main_icon_url,alt:"Main preview",className:"h-28 w-28 rounded-lg object-cover border border-zinc-700 shadow-md"}),t.jsx(S,{size:"icon",variant:"destructive",className:"absolute -top-2 -right-2 h-7 w-7 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>i(At),children:t.jsx(st,{className:"h-4 w-4"})})]}):t.jsx("div",{className:"h-28 w-28 rounded-lg border-2 border-dashed border-zinc-700 flex items-center justify-center text-zinc-600",children:t.jsx(Je,{className:"h-10 w-10 opacity-40"})})}),e[113]=s.main_icon_preview,e[114]=s.main_icon_url,e[115]=i,e[116]=be):be=e[116];let je;e[117]!==Y||e[118]!==l?(je=t.jsx(Re,{type:"file",accept:"image/*",onChange:Y,disabled:l,className:"cursor-pointer file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20"}),e[117]=Y,e[118]=l,e[119]=je):je=e[119];let Fe;e[120]===Symbol.for("react.memo_cache_sentinel")?(Fe=t.jsx("p",{className:"text-xs text-zinc-500",children:"PNG, JPG, WebP • Recommended 512×512 • Max 3MB"}),e[120]=Fe):Fe=e[120];let _e;e[121]!==m.main_icon_url?(_e=m.main_icon_url&&t.jsx("p",{className:"text-xs text-red-400",children:m.main_icon_url}),e[121]=m.main_icon_url,e[122]=_e):_e=e[122];let ve;e[123]!==je||e[124]!==_e?(ve=t.jsxs("div",{className:"flex-1 space-y-2",children:[je,Fe,_e]}),e[123]=je,e[124]=_e,e[125]=ve):ve=e[125];let Ne;e[126]!==be||e[127]!==ve?(Ne=t.jsxs("div",{children:[He,t.jsxs("div",{className:"mt-3 flex flex-col sm:flex-row gap-5 items-start",children:[be,ve]})]}),e[126]=be,e[127]=ve,e[128]=Ne):Ne=e[128];let Ge;e[129]===Symbol.for("react.memo_cache_sentinel")?(Ge=t.jsx(F,{className:"text-xs font-bold tracking-wider text-zinc-400 uppercase",children:"Gallery Images"}),e[129]=Ge):Ge=e[129];let Oe;e[130]===Symbol.for("react.memo_cache_sentinel")?(Oe=t.jsxs(S,{type:"button",variant:"outline",size:"sm",onClick:$t,className:"h-8 border-orange-600/40 text-orange-400 hover:bg-orange-950/30",children:[t.jsx(Je,{className:"mr-1.5 h-4 w-4"}),"Add Images"]}),e[130]=Oe):Oe=e[130];let ye;e[131]!==ee?(ye=t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[Ge,Oe,t.jsx("input",{id:"gallery-upload",type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:ee})]}),e[131]=ee,e[132]=ye):ye=e[132];let we;e[133]!==s.images||e[134]!==se?(we=s.images?.map((c,d)=>t.jsxs("div",{className:"group relative aspect-square overflow-hidden rounded-lg border border-zinc-700 bg-zinc-950",children:[t.jsx("img",{src:c.value,alt:`gallery-${d}`,className:"h-full w-full object-cover"}),t.jsx(S,{size:"icon",variant:"destructive",className:"absolute top-1 right-1 h-7 w-7 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>se(d),children:t.jsx(st,{className:"h-4 w-4"})})]},d)),e[133]=s.images,e[134]=se,e[135]=we):we=e[135];let ze;e[136]!==s.images?(ze=(!s.images||s.images.length===0)&&t.jsxs("div",{className:"col-span-full h-32 flex flex-col items-center justify-center rounded-lg border-2 border-dashed border-zinc-700 text-zinc-600",children:[t.jsx(Je,{className:"mb-2 h-10 w-10 opacity-50"}),t.jsx("p",{className:"text-sm",children:"No gallery images yet"})]}),e[136]=s.images,e[137]=ze):ze=e[137];let Se;e[138]!==we||e[139]!==ze?(Se=t.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-3",children:[we,ze]}),e[138]=we,e[139]=ze,e[140]=Se):Se=e[140];let Ce;e[141]!==ye||e[142]!==Se?(Ce=t.jsxs("div",{children:[ye,Se]}),e[141]=ye,e[142]=Se,e[143]=Ce):Ce=e[143];let ke;e[144]!==Ne||e[145]!==Ce?(ke=t.jsxs("div",{className:"space-y-8",children:[Ne,Ce]}),e[144]=Ne,e[145]=Ce,e[146]=ke):ke=e[146];let Pe;e[147]!==ue||e[148]!==ke?(Pe=t.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-2",children:[ue,ke]}),e[147]=ue,e[148]=ke,e[149]=Pe):Pe=e[149];let Le;e[150]!==A||e[151]!==l?(Le=t.jsx(S,{type:"button",variant:"outline",onClick:A,disabled:l,className:"border-zinc-700 hover:bg-zinc-800",children:"Cancel"}),e[150]=A,e[151]=l,e[152]=Le):Le=e[152];let De;e[153]!==x||e[154]!==l?(De=l?t.jsxs(t.Fragment,{children:[t.jsx(wt,{className:"mr-2 h-5 w-5 animate-spin"}),x==="create"?"Creating...":"Updating..."]}):x==="create"?"Create Product":"Save Changes",e[153]=x,e[154]=l,e[155]=De):De=e[155];let Ie;e[156]!==l||e[157]!==De?(Ie=t.jsx(S,{type:"submit",disabled:l,className:"min-w-[160px] bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-500 hover:to-orange-400 shadow-lg shadow-orange-900/30",children:De}),e[156]=l,e[157]=De,e[158]=Ie):Ie=e[158];let Te;e[159]!==Le||e[160]!==Ie?(Te=t.jsxs("div",{className:"flex justify-end gap-4 pt-8 border-t border-zinc-800",children:[Le,Ie]}),e[159]=Le,e[160]=Ie,e[161]=Te):Te=e[161];let Be;return e[162]!==Ae||e[163]!==Pe||e[164]!==Te?(Be=t.jsxs("form",{onSubmit:Ae,className:"space-y-8",children:[Pe,Te]}),e[162]=Ae,e[163]=Pe,e[164]=Te,e[165]=Be):Be=e[165],Be}function $t(){return document.getElementById("gallery-upload")?.click()}function At(r){return{...r,main_icon_url:null,main_icon_preview:null}}function Mt(r){return t.jsx(ct,{value:String(r.id),children:r.name},r.id)}function Ut(r){return t.jsx(ct,{value:String(r.id),children:r.title},r.id)}function Et(r){return{type:"file",value:URL.createObjectURL(r),file:r}}function us(r){const e=lt.c(75),{products:X,game_modes:x,categories:A}=r,[o,$e]=We.useState(""),[s,i]=We.useState(null),[l,m]=We.useState(null);let K;e[0]===Symbol.for("react.memo_cache_sentinel")?(K=[],e[0]=K):K=e[0];let Q;e[1]===Symbol.for("react.memo_cache_sentinel")?(Q={id:null,game_mode_id:"",category_id:"",name:"",slug:"",price:"",stock:"",short_description:"",is_active:!0,main_icon_url:null,main_icon_preview:null,images:K},e[1]=Q):Q=e[1];const n=nt(Q);let G;if(e[2]!==X.data||e[3]!==o){let a;e[5]!==o?(a=J=>J.name.toLowerCase().includes(o.toLowerCase())||J.slug.toLowerCase().includes(o.toLowerCase()),e[5]=o,e[6]=a):a=e[6],G=X.data.filter(a),e[2]=X.data,e[3]=o,e[4]=G}else G=e[4];const z=G;let Y;e[7]!==n?(Y=()=>{n.reset(),i("create")},e[7]=n,e[8]=Y):Y=e[8];const Z=Y;let ee;e[9]!==n?(ee=a=>{n.clearErrors(),n.setData({id:a.id,game_mode_id:String(a.game_mode_id),category_id:String(a.category_id),name:a.name,slug:a.slug,short_description:a.short_description??"",price:String(a.price),stock:String(a.stock),is_active:!!a.is_active,main_icon_url:a.main_icon_url??null,main_icon_preview:null,images:a.images.map(Ot)}),i("edit")},e[9]=n,e[10]=ee):ee=e[10];const te=ee;let se;e[11]===Symbol.for("react.memo_cache_sentinel")?(se=a=>{it.delete(rt("admin.products.destroy",a),{preserveScroll:!0,onSuccess:()=>m(null)})},e[11]=se):se=e[11];const ne=se,Ae=Gt;let O;e[12]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx(ot,{title:"Products • Admin"}),e[12]=O):O=e[12];let le;e[13]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx("h1",{className:"text-3xl lg:text-4xl font-black tracking-tight text-white",children:"Products"}),e[13]=le):le=e[13];let f;e[14]!==X.total?(f=t.jsxs("div",{children:[le,t.jsxs("p",{className:"mt-2 text-zinc-400",children:["Manage all store items • ",t.jsx("strong",{children:X.total})," total"]})]}),e[14]=X.total,e[15]=f):f=e[15];let C;e[16]===Symbol.for("react.memo_cache_sentinel")?(C=t.jsx(ft,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-zinc-500"}),e[16]=C):C=e[16];let k;e[17]===Symbol.for("react.memo_cache_sentinel")?(k=a=>$e(a.target.value),e[17]=k):k=e[17];let h;e[18]!==o?(h=t.jsxs("div",{className:"relative w-64 lg:w-80",children:[C,t.jsx(Re,{placeholder:"Search name or slug...",className:"pl-10 border-zinc-700 bg-zinc-900 focus:border-orange-500",value:o,onChange:k})]}),e[18]=o,e[19]=h):h=e[19];let B;e[20]===Symbol.for("react.memo_cache_sentinel")?(B=t.jsx(Pt,{size:18}),e[20]=B):B=e[20];let M;e[21]!==Z?(M=t.jsxs(S,{onClick:Z,className:"gap-2 bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-500 hover:to-orange-400 shadow-lg shadow-orange-900/30",children:[B,"New Product"]}),e[21]=Z,e[22]=M):M=e[22];let P;e[23]===Symbol.for("react.memo_cache_sentinel")?(P=t.jsx(S,{variant:"outline",size:"icon",onClick:Ae,title:"Refresh",children:t.jsx(St,{size:18})}),e[23]=P):P=e[23];let g;e[24]!==h||e[25]!==M?(g=t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[h,M,P]}),e[24]=h,e[25]=M,e[26]=g):g=e[26];let p;e[27]!==g||e[28]!==f?(p=t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[f,g]}),e[27]=g,e[28]=f,e[29]=p):p=e[29];let u;e[30]!==z.length?(u=t.jsx(ht,{className:"border-b border-zinc-800",children:t.jsxs(gt,{className:"text-xl",children:["All Products (",z.length,")"]})}),e[30]=z.length,e[31]=u):u=e[31];let b;e[32]!==z||e[33]!==te||e[34]!==o?(b=t.jsx(pt,{className:"p-0",children:z.length===0?t.jsxs("div",{className:"py-24 text-center text-zinc-500",children:[t.jsx("p",{className:"text-lg font-medium",children:o?"No matching products":"No products created yet"}),!o&&t.jsx("p",{className:"mt-3",children:'Click "New Product" to add your first item.'})]}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(mt,{children:[t.jsx(dt,{className:"bg-zinc-900/60",children:t.jsxs(Xe,{className:"border-zinc-800 hover:bg-transparent",children:[t.jsx(Me,{className:"w-24 text-xs font-bold text-orange-400 uppercase",children:"Preview"}),t.jsx(Me,{className:"text-xs font-bold text-zinc-300 uppercase",children:"Product"}),t.jsx(Me,{className:"text-xs font-bold text-zinc-300 uppercase hidden md:table-cell",children:"Description"}),t.jsx(Me,{className:"text-xs font-bold text-zinc-300 uppercase",children:"Price / Stock"}),t.jsx(Me,{className:"text-right text-xs font-bold text-zinc-300 uppercase pr-6",children:"Actions"})]})}),t.jsx(xt,{children:z.map(a=>t.jsxs(Xe,{className:"group border-zinc-800 hover:bg-orange-950/10 transition-colors",children:[t.jsx(Ue,{children:t.jsxs("div",{className:"flex items-center gap-3",children:[a.main_icon_url?t.jsx("img",{src:`/storage/${a.main_icon_url}`,alt:a.name,className:"h-14 w-14 rounded-md object-cover border border-zinc-700",onError:Ft}):t.jsx("div",{className:"h-14 w-14 rounded-md bg-zinc-800 flex items-center justify-center text-zinc-600",children:t.jsx(Tt,{size:20})}),a.images?.length>0&&t.jsxs("div",{className:"flex -space-x-2",children:[a.images.slice(0,3).map(Ht),a.images.length>3&&t.jsxs("div",{className:"h-10 w-10 rounded-md bg-zinc-800 border-2 border-black flex items-center justify-center text-[10px] font-bold text-zinc-400",children:["+",a.images.length-3]})]})]})}),t.jsxs(Ue,{children:[t.jsx("div",{className:"font-medium text-white group-hover:text-orange-400 transition-colors",children:a.name}),t.jsxs("div",{className:"mt-0.5 text-xs text-zinc-500 font-mono",children:[a.game_mode?.title||"—"," • ",a.category?.name||"Uncategorized"]})]}),t.jsx(Ue,{className:"hidden md:table-cell",children:t.jsx("div",{className:"text-sm text-zinc-400 line-clamp-2 max-w-xs",children:a.short_description||"—"})}),t.jsxs(Ue,{children:[t.jsxs("div",{className:"font-mono font-bold text-orange-400",children:["$",Number(a.price).toFixed(2)]}),t.jsxs("div",{className:"mt-0.5 text-xs text-zinc-500",children:[a.stock," in stock"]})]}),t.jsx(Ue,{className:"text-right pr-4",children:t.jsxs("div",{className:"flex items-center justify-end gap-1",children:[t.jsx(S,{variant:"ghost",size:"icon",className:"h-8 w-8",children:t.jsx(zt,{size:16,className:"text-zinc-400"})}),t.jsx(S,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>te(a),children:t.jsx(Ct,{size:16,className:"text-blue-400"})}),t.jsx(S,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>m(a.id),children:t.jsx(kt,{size:16,className:"text-red-500"})})]})})]},a.id))})]})})}),e[32]=z,e[33]=te,e[34]=o,e[35]=b):b=e[35];let L;e[36]!==u||e[37]!==b?(L=t.jsxs(ut,{className:"border-zinc-800/50 bg-gradient-to-b from-zinc-950 to-black overflow-hidden",children:[u,b]}),e[36]=u,e[37]=b,e[38]=L):L=e[38];const ce=!!s;let D;e[39]===Symbol.for("react.memo_cache_sentinel")?(D=()=>i(null),e[39]=D):D=e[39];const ie=s==="create"?"Create New Product":"Edit Product";let j;e[40]!==ie?(j=t.jsx(jt,{className:"text-3xl font-black text-orange-500",children:ie}),e[40]=ie,e[41]=j):j=e[41];let _;e[42]!==n.data||e[43]!==s?(_=s==="edit"&&t.jsxs(bt,{className:"text-zinc-400 mt-1",children:["Product ID: ",t.jsxs("span",{className:"font-mono text-orange-400",children:["#",n.data.id]})]}),e[42]=n.data,e[43]=s,e[44]=_):_=e[44];let v;e[45]!==j||e[46]!==_?(v=t.jsxs(_t,{className:"px-8 py-6 border-b border-zinc-800 bg-black/40 backdrop-blur-sm",children:[j,_]}),e[45]=j,e[46]=_,e[47]=v):v=e[47];let W;e[48]===Symbol.for("react.memo_cache_sentinel")?(W=()=>i(null),e[48]=W):W=e[48];let U;e[49]!==A||e[50]!==n||e[51]!==x||e[52]!==s?(U=t.jsx("div",{className:"p-8 md:p-10 lg:p-12 overflow-y-auto",children:t.jsx(Rt,{form:n,mode:s,onClose:W,game_modes:x,categories:A})}),e[49]=A,e[50]=n,e[51]=x,e[52]=s,e[53]=U):U=e[53];let N;e[54]!==v||e[55]!==U?(N=t.jsxs(Ke,{className:"sm:max-w-6xl max-h-[95vh] overflow-hidden bg-gradient-to-br from-zinc-950 via-black to-zinc-950 border-zinc-700/40 shadow-2xl rounded-2xl p-0",children:[v,U]}),e[54]=v,e[55]=U,e[56]=N):N=e[56];let I;e[57]!==ce||e[58]!==N?(I=t.jsx(Qe,{open:ce,onOpenChange:D,children:N}),e[57]=ce,e[58]=N,e[59]=I):I=e[59];const E=l!==null;let T;e[60]===Symbol.for("react.memo_cache_sentinel")?(T=()=>m(null),e[60]=T):T=e[60];let R,$;e[61]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx(Lt,{className:"mx-auto mb-5 h-14 w-14 text-red-500"}),$=t.jsx("h3",{className:"mb-3 text-2xl font-bold text-white",children:"Delete Product?"}),e[61]=R,e[62]=$):(R=e[61],$=e[62]);let q;e[63]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsxs("p",{className:"mb-8 text-zinc-300",children:["This action cannot be undone.",t.jsx("br",{}),"All associated data will be permanently removed."]}),e[63]=q):q=e[63];let ae;e[64]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx(S,{variant:"outline",onClick:()=>m(null),children:"Cancel"}),e[64]=ae):ae=e[64];let y;e[65]!==l?(y=t.jsx(Ke,{className:"sm:max-w-md border-red-900/40 bg-zinc-950",children:t.jsxs("div",{className:"py-6 text-center",children:[R,$,q,t.jsxs("div",{className:"flex justify-center gap-4",children:[ae,t.jsx(S,{variant:"destructive",onClick:()=>l&&ne(l),children:"Delete Forever"})]})]})}),e[65]=l,e[66]=y):y=e[66];let w;e[67]!==E||e[68]!==y?(w=t.jsx(Qe,{open:E,onOpenChange:T,children:y}),e[67]=E,e[68]=y,e[69]=w):w=e[69];let V;return e[70]!==p||e[71]!==L||e[72]!==I||e[73]!==w?(V=t.jsxs(vt,{children:[O,t.jsxs("div",{className:"space-y-8 p-6 lg:p-8",children:[p,L,I,w]})]}),e[70]=p,e[71]=L,e[72]=I,e[73]=w,e[74]=V):V=e[74],V}function Ht(r,e){return t.jsx("img",{src:`/storage/${r.image_url}`,alt:"gallery",className:"h-10 w-10 rounded-md object-cover border-2 border-black shadow-sm"},e)}function Ft(r){return r.currentTarget.style.display="none"}function Gt(){it.reload({only:["products"]})}function Ot(r){return{id:r.id,type:"url",value:r.image_url.startsWith("http")?r.image_url:`/storage/${r.image_url}`,file:null}}export{us as default};
