import{c as rt,r as qe,j as t,a as Ve,u as ot,H as dt}from"./app-Bc3VFpJK.js";import{a as nt,B as z}from"./button-DboEW94q.js";import{I as Ue}from"./input-DyL_E350.js";import{T as mt,a as xt,b as Ye,c as Me,d as ft,e as Ae,S as gt}from"./table-BUCB8SR6.js";import{C as ht,a as pt,b as ut,c as _t}from"./card-DUxg-4jW.js";import{a as bt,D as jt,b as vt,d as Ze,e as et}from"./dialog-z_9zqN8t.js";import{s as Qe}from"./index-BsxvijQw.js";import{A as Nt}from"./app-layout-jAiPEzZa.js";import{S as yt}from"./switch-DZS4jcUW.js";import{L as G}from"./label-Dk3d6Bzf.js";import{T as wt}from"./textarea-BxUGZJdu.js";import{a as tt,b as st,c as it,S as lt,d as ct}from"./select-BThJm5-t.js";import{X as at}from"./x-BQNrJ6Su.js";import{L as zt}from"./loader-circle-D7sfvCno.js";import{E as St,R as Ct}from"./refresh-cw-CWT9Dqx1.js";import{P as kt,T as Pt}from"./trash-2-DB02mZ1r.js";import{C as Lt}from"./circle-plus-CHfbNfp4.js";import{C as Dt}from"./circle-alert-gECr49DF.js";/* empty css            */import"./FlashMessage-C9bxeQCy.js";import"./index-BN4fsWUe.js";import"./tooltip-5MVho7Cg.js";import"./index-FyDnKRxt.js";import"./app-logo-icon-COCAWCH3.js";import"./package-DrrNtRwy.js";import"./index-Dp17SqI0.js";import"./check-DLSrAD9M.js";const Rt=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],Xe=nt("CloudUpload",Rt);const $t=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],It=nt("Image",$t);function Ut(n){const e=rt.c(179),{form:f,mode:g,onClose:S,game_modes:d,categories:Te}=n,{data:s,setData:a,processing:l,errors:m}=f;let W,o;e[0]!==s.images||e[1]!==s.main_icon_preview?(W=()=>()=>{s.main_icon_preview?.startsWith("blob:")&&URL.revokeObjectURL(s.main_icon_preview),s.images?.forEach(Ot)},o=[s.main_icon_preview,s.images],e[0]=s.images,e[1]=s.main_icon_preview,e[2]=W,e[3]=o):(W=e[2],o=e[3]),qe.useEffect(W,o);let q;e[4]!==a?(q=c=>{const r=c.target.files?.[0];if(!r)return;const ae=URL.createObjectURL(r);a(x=>({...x,main_icon_url:r,main_icon_preview:ae}))},e[4]=a,e[5]=q):q=e[5];const C=q;let V;e[6]!==s.main_icon_preview||e[7]!==a?(V=()=>{s.main_icon_preview?.startsWith("blob:")&&URL.revokeObjectURL(s.main_icon_preview),a(Ft)},e[6]=s.main_icon_preview,e[7]=a,e[8]=V):V=e[8];const ie=V;let J;e[9]!==a?(J=c=>{const r=Array.from(c.target.files||[]);if(!r.length)return;const ae=r.map(At);a(x=>({...x,images:[...x.images||[],...ae]}))},e[9]=a,e[10]=J):J=e[10];const le=J;let K;e[11]!==a?(K=c=>{a(r=>{const ae=[...r.images||[]],x=ae.splice(c,1)[0];return x?.type==="file"&&x.value?.startsWith("blob:")&&URL.revokeObjectURL(x.value),{...r,images:ae}})},e[11]=a,e[12]=K):K=e[12];const Ee=K;let re;e[13]!==s.category_id||e[14]!==s.game_mode_id||e[15]!==s.id||e[16]!==s.images||e[17]!==s.is_active||e[18]!==s.main_icon_url||e[19]!==s.name||e[20]!==s.price||e[21]!==s.short_description||e[22]!==s.slug||e[23]!==s.stock||e[24]!==f||e[25]!==g||e[26]!==S?(re=c=>{c.preventDefault();const r=new FormData;r.append("name",s.name||""),r.append("slug",s.slug||""),s.short_description&&r.append("short_description",s.short_description),s.price!=null&&r.append("price",String(s.price)),s.stock!=null&&r.append("stock",String(s.stock)),r.append("is_active",s.is_active?"1":"0"),s.game_mode_id&&r.append("game_mode_id",String(s.game_mode_id)),s.category_id&&r.append("category_id",String(s.category_id)),s.main_icon_url instanceof File?r.append("main_icon_url",s.main_icon_url):s.main_icon_url===null&&r.append("main_icon_url",""),s.images?.forEach((x,Ie)=>{x.type==="file"&&x.file instanceof File&&r.append(`images[${Ie}]`,x.file)}),console.groupCollapsed("ðŸ“¤ FormData â†’ Backend"),console.log("Mode:",g),console.log("Route:",g==="create"?"admin.products.store":`admin.products.update #${s.id}`),console.log("Entries:");for(const[x,Ie]of r.entries())Ie instanceof File?console.log(`  ${x} â†’ [File] ${Ie.name} (${(Ie.size/1024).toFixed(1)} KB)`):console.log(`  ${x} â†’ ${Ie}`);console.groupEnd(),g==="create"?f.post(Qe("admin.products.store"),{preserveScroll:!0,onSuccess:()=>{f.reset(),S(),Ve.reload({only:["products"]})}}):f.put(Qe("admin.products.update",s.id),{preserveScroll:!0,onSuccess:()=>{S(),Ve.reload({only:["products"]})}})},e[13]=s.category_id,e[14]=s.game_mode_id,e[15]=s.id,e[16]=s.images,e[17]=s.is_active,e[18]=s.main_icon_url,e[19]=s.name,e[20]=s.price,e[21]=s.short_description,e[22]=s.slug,e[23]=s.stock,e[24]=f,e[25]=g,e[26]=S,e[27]=re):re=e[27];const Y=re;let X;e[28]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx(G,{className:"text-xs font-bold tracking-wider text-zinc-400 uppercase",children:"Name *"}),e[28]=X):X=e[28];const F=s.name||"";let k;e[29]!==a?(k=c=>a("name",c.target.value),e[29]=a,e[30]=k):k=e[30];let P;e[31]!==l||e[32]!==k||e[33]!==F?(P=t.jsx(Ue,{value:F,onChange:k,className:"mt-1.5 border-zinc-700 bg-zinc-900 focus:border-orange-500",disabled:l}),e[31]=l,e[32]=k,e[33]=F,e[34]=P):P=e[34];let h;e[35]!==m.name?(h=m.name&&t.jsx("p",{className:"mt-1.5 text-xs text-red-400",children:m.name}),e[35]=m.name,e[36]=h):h=e[36];let L;e[37]!==P||e[38]!==h?(L=t.jsxs("div",{children:[X,P,h]}),e[37]=P,e[38]=h,e[39]=L):L=e[39];let D;e[40]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx(G,{className:"text-xs font-bold tracking-wider text-zinc-400 uppercase",children:"Slug *"}),e[40]=D):D=e[40];const Z=s.slug||"";let p;e[41]!==a?(p=c=>a("slug",c.target.value),e[41]=a,e[42]=p):p=e[42];let u;e[43]!==l||e[44]!==Z||e[45]!==p?(u=t.jsx(Ue,{value:Z,onChange:p,className:"mt-1.5 border-zinc-700 bg-zinc-900 focus:border-orange-500",disabled:l}),e[43]=l,e[44]=Z,e[45]=p,e[46]=u):u=e[46];let _;e[47]!==m.slug?(_=m.slug&&t.jsx("p",{className:"mt-1.5 text-xs text-red-400",children:m.slug}),e[47]=m.slug,e[48]=_):_=e[48];let b;e[49]!==u||e[50]!==_?(b=t.jsxs("div",{children:[D,u,_]}),e[49]=u,e[50]=_,e[51]=b):b=e[51];let j;e[52]!==L||e[53]!==b?(j=t.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2",children:[L,b]}),e[52]=L,e[53]=b,e[54]=j):j=e[54];let ee;e[55]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsx(G,{className:"text-xs font-bold tracking-wider text-zinc-400 uppercase",children:"Game Mode"}),e[55]=ee):ee=e[55];const te=String(s.game_mode_id||"");let O;e[56]!==a?(O=c=>a("game_mode_id",c),e[56]=a,e[57]=O):O=e[57];let R;e[58]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx(tt,{className:"mt-1.5 border-zinc-700 bg-zinc-900",children:t.jsx(st,{placeholder:"Select game mode"})}),e[58]=R):R=e[58];let v;e[59]!==d?(v=d.map(Mt),e[59]=d,e[60]=v):v=e[60];let N;e[61]!==v?(N=t.jsx(it,{children:v}),e[61]=v,e[62]=N):N=e[62];let $;e[63]!==l||e[64]!==te||e[65]!==O||e[66]!==N?($=t.jsxs("div",{children:[ee,t.jsxs(lt,{value:te,onValueChange:O,disabled:l,children:[R,N]})]}),e[63]=l,e[64]=te,e[65]=O,e[66]=N,e[67]=$):$=e[67];let I;e[68]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx(G,{className:"text-xs font-bold tracking-wider text-zinc-400 uppercase",children:"Category"}),e[68]=I):I=e[68];const B=String(s.category_id||"");let y;e[69]!==a?(y=c=>a("category_id",c),e[69]=a,e[70]=y):y=e[70];let se;e[71]===Symbol.for("react.memo_cache_sentinel")?(se=t.jsx(tt,{className:"mt-1.5 border-zinc-700 bg-zinc-900",children:t.jsx(st,{placeholder:"Select category"})}),e[71]=se):se=e[71];let U;e[72]!==Te?(U=Te.map(Et),e[72]=Te,e[73]=U):U=e[73];let T;e[74]!==U?(T=t.jsx(it,{children:U}),e[74]=U,e[75]=T):T=e[75];let E;e[76]!==l||e[77]!==B||e[78]!==y||e[79]!==T?(E=t.jsxs("div",{children:[I,t.jsxs(lt,{value:B,onValueChange:y,disabled:l,children:[se,T]})]}),e[76]=l,e[77]=B,e[78]=y,e[79]=T,e[80]=E):E=e[80];let M;e[81]!==$||e[82]!==E?(M=t.jsxs("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2",children:[$,E]}),e[81]=$,e[82]=E,e[83]=M):M=e[83];let Q;e[84]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx(G,{className:"text-xs font-bold tracking-wider text-zinc-400 uppercase",children:"Short Description"}),e[84]=Q):Q=e[84];const H=s.short_description||"";let w;e[85]!==a?(w=c=>a("short_description",c.target.value),e[85]=a,e[86]=w):w=e[86];let A;e[87]!==l||e[88]!==H||e[89]!==w?(A=t.jsxs("div",{children:[Q,t.jsx(wt,{value:H,onChange:w,rows:3,className:"mt-1.5 border-zinc-700 bg-zinc-900 focus:border-orange-500",disabled:l})]}),e[87]=l,e[88]=H,e[89]=w,e[90]=A):A=e[90];let i;e[91]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx(G,{className:"text-xs font-bold tracking-wider text-zinc-400 uppercase",children:"Price ($)"}),e[91]=i):i=e[91];const ne=s.price??"";let ce;e[92]!==a?(ce=c=>a("price",c.target.value),e[92]=a,e[93]=ce):ce=e[93];let oe;e[94]!==l||e[95]!==ne||e[96]!==ce?(oe=t.jsxs("div",{children:[i,t.jsx(Ue,{type:"number",step:"0.01",min:"0",value:ne,onChange:ce,className:"mt-1.5 border-zinc-700 bg-zinc-900 font-mono text-orange-400",disabled:l})]}),e[94]=l,e[95]=ne,e[96]=ce,e[97]=oe):oe=e[97];let Fe;e[98]===Symbol.for("react.memo_cache_sentinel")?(Fe=t.jsx(G,{className:"text-xs font-bold tracking-wider text-zinc-400 uppercase",children:"Stock"}),e[98]=Fe):Fe=e[98];const Je=s.stock??"";let de;e[99]!==a?(de=c=>a("stock",c.target.value),e[99]=a,e[100]=de):de=e[100];let me;e[101]!==l||e[102]!==Je||e[103]!==de?(me=t.jsxs("div",{children:[Fe,t.jsx(Ue,{type:"number",min:"0",value:Je,onChange:de,className:"mt-1.5 border-zinc-700 bg-zinc-900",disabled:l})]}),e[101]=l,e[102]=Je,e[103]=de,e[104]=me):me=e[104];let xe;e[105]!==a?(xe=c=>a("is_active",c),e[105]=a,e[106]=xe):xe=e[106];let fe;e[107]!==s.is_active||e[108]!==l||e[109]!==xe?(fe=t.jsx(yt,{checked:s.is_active,onCheckedChange:xe,disabled:l}),e[107]=s.is_active,e[108]=l,e[109]=xe,e[110]=fe):fe=e[110];const Ke=s.is_active?"Active":"Hidden";let ge;e[111]!==Ke?(ge=t.jsx(G,{className:"text-sm font-medium",children:Ke}),e[111]=Ke,e[112]=ge):ge=e[112];let he;e[113]!==fe||e[114]!==ge?(he=t.jsxs("div",{className:"flex items-end gap-3 pb-2",children:[fe,ge]}),e[113]=fe,e[114]=ge,e[115]=he):he=e[115];let pe;e[116]!==oe||e[117]!==me||e[118]!==he?(pe=t.jsxs("div",{className:"grid grid-cols-3 gap-5",children:[oe,me,he]}),e[116]=oe,e[117]=me,e[118]=he,e[119]=pe):pe=e[119];let ue;e[120]!==j||e[121]!==M||e[122]!==A||e[123]!==pe?(ue=t.jsxs("div",{className:"space-y-6",children:[j,M,A,pe]}),e[120]=j,e[121]=M,e[122]=A,e[123]=pe,e[124]=ue):ue=e[124];let Oe;e[125]===Symbol.for("react.memo_cache_sentinel")?(Oe=t.jsx(G,{className:"text-xs font-bold tracking-wider text-zinc-400 uppercase",children:"Main Product Icon"}),e[125]=Oe):Oe=e[125];let _e;e[126]!==s.main_icon_preview||e[127]!==s.main_icon_url||e[128]!==ie?(_e=t.jsx("div",{className:"shrink-0",children:s.main_icon_preview||typeof s.main_icon_url=="string"&&s.main_icon_url?t.jsxs("div",{className:"relative group",children:[t.jsx("img",{src:s.main_icon_preview||s.main_icon_url,alt:"Main preview",className:"h-28 w-28 rounded-lg object-cover border border-zinc-700 shadow-md"}),t.jsx(z,{size:"icon",variant:"destructive",className:"absolute -top-2 -right-2 h-7 w-7 opacity-0 group-hover:opacity-100 transition-opacity",onClick:ie,children:t.jsx(at,{className:"h-4 w-4"})})]}):t.jsx("div",{className:"h-28 w-28 rounded-lg border-2 border-dashed border-zinc-700 flex items-center justify-center text-zinc-600",children:t.jsx(Xe,{className:"h-10 w-10 opacity-40"})})}),e[126]=s.main_icon_preview,e[127]=s.main_icon_url,e[128]=ie,e[129]=_e):_e=e[129];let be;e[130]!==C||e[131]!==l?(be=t.jsx(Ue,{type:"file",accept:"image/*",onChange:C,disabled:l,className:"cursor-pointer file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-primary/10 file:text-primary hover:file:bg-primary/20"}),e[130]=C,e[131]=l,e[132]=be):be=e[132];let Be;e[133]===Symbol.for("react.memo_cache_sentinel")?(Be=t.jsx("p",{className:"text-xs text-zinc-500",children:"PNG, JPG, WebP â€¢ Recommended 512Ã—512 â€¢ Max 3MB"}),e[133]=Be):Be=e[133];let je;e[134]!==m.main_icon_url?(je=m.main_icon_url&&t.jsx("p",{className:"text-xs text-red-400",children:m.main_icon_url}),e[134]=m.main_icon_url,e[135]=je):je=e[135];let ve;e[136]!==be||e[137]!==je?(ve=t.jsxs("div",{className:"flex-1 space-y-2",children:[be,Be,je]}),e[136]=be,e[137]=je,e[138]=ve):ve=e[138];let Ne;e[139]!==_e||e[140]!==ve?(Ne=t.jsxs("div",{children:[Oe,t.jsxs("div",{className:"mt-3 flex flex-col sm:flex-row gap-5 items-start",children:[_e,ve]})]}),e[139]=_e,e[140]=ve,e[141]=Ne):Ne=e[141];let He;e[142]===Symbol.for("react.memo_cache_sentinel")?(He=t.jsx(G,{className:"text-xs font-bold tracking-wider text-zinc-400 uppercase",children:"Gallery Images"}),e[142]=He):He=e[142];let Ge;e[143]===Symbol.for("react.memo_cache_sentinel")?(Ge=t.jsxs(z,{type:"button",variant:"outline",size:"sm",onClick:Tt,className:"h-8 border-orange-600/40 text-orange-400 hover:bg-orange-950/30",children:[t.jsx(Xe,{className:"mr-1.5 h-4 w-4"}),"Add Images"]}),e[143]=Ge):Ge=e[143];let ye;e[144]!==le?(ye=t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[He,Ge,t.jsx("input",{id:"gallery-upload",type:"file",accept:"image/*",multiple:!0,className:"hidden",onChange:le})]}),e[144]=le,e[145]=ye):ye=e[145];let we;e[146]!==s.images||e[147]!==Ee?(we=s.images?.map((c,r)=>t.jsxs("div",{className:"group relative aspect-square overflow-hidden rounded-lg border border-zinc-700 bg-zinc-950",children:[t.jsx("img",{src:c.value,alt:`gallery-${r}`,className:"h-full w-full object-cover"}),t.jsx(z,{size:"icon",variant:"destructive",className:"absolute top-1 right-1 h-7 w-7 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>Ee(r),children:t.jsx(at,{className:"h-4 w-4"})})]},r)),e[146]=s.images,e[147]=Ee,e[148]=we):we=e[148];let ze;e[149]!==s.images?(ze=(!s.images||s.images.length===0)&&t.jsxs("div",{className:"col-span-full h-32 flex flex-col items-center justify-center rounded-lg border-2 border-dashed border-zinc-700 text-zinc-600",children:[t.jsx(Xe,{className:"mb-2 h-10 w-10 opacity-50"}),t.jsx("p",{className:"text-sm",children:"No gallery images yet"})]}),e[149]=s.images,e[150]=ze):ze=e[150];let Se;e[151]!==we||e[152]!==ze?(Se=t.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-3",children:[we,ze]}),e[151]=we,e[152]=ze,e[153]=Se):Se=e[153];let Ce;e[154]!==ye||e[155]!==Se?(Ce=t.jsxs("div",{children:[ye,Se]}),e[154]=ye,e[155]=Se,e[156]=Ce):Ce=e[156];let ke;e[157]!==Ne||e[158]!==Ce?(ke=t.jsxs("div",{className:"space-y-8",children:[Ne,Ce]}),e[157]=Ne,e[158]=Ce,e[159]=ke):ke=e[159];let Pe;e[160]!==ue||e[161]!==ke?(Pe=t.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-2",children:[ue,ke]}),e[160]=ue,e[161]=ke,e[162]=Pe):Pe=e[162];let Le;e[163]!==S||e[164]!==l?(Le=t.jsx(z,{type:"button",variant:"outline",onClick:S,disabled:l,className:"border-zinc-700 hover:bg-zinc-800",children:"Cancel"}),e[163]=S,e[164]=l,e[165]=Le):Le=e[165];let De;e[166]!==g||e[167]!==l?(De=l?t.jsxs(t.Fragment,{children:[t.jsx(zt,{className:"mr-2 h-5 w-5 animate-spin"}),g==="create"?"Creating...":"Updating..."]}):g==="create"?"Create Product":"Save Changes",e[166]=g,e[167]=l,e[168]=De):De=e[168];let Re;e[169]!==l||e[170]!==De?(Re=t.jsx(z,{type:"submit",disabled:l,className:"min-w-[160px] bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-500 hover:to-orange-400 shadow-lg shadow-orange-900/30",children:De}),e[169]=l,e[170]=De,e[171]=Re):Re=e[171];let $e;e[172]!==Le||e[173]!==Re?($e=t.jsxs("div",{className:"flex justify-end gap-4 pt-8 border-t border-zinc-800",children:[Le,Re]}),e[172]=Le,e[173]=Re,e[174]=$e):$e=e[174];let We;return e[175]!==Y||e[176]!==Pe||e[177]!==$e?(We=t.jsxs("form",{onSubmit:Y,className:"space-y-8",children:[Pe,$e]}),e[175]=Y,e[176]=Pe,e[177]=$e,e[178]=We):We=e[178],We}function Tt(){return document.getElementById("gallery-upload")?.click()}function Et(n){return t.jsx(ct,{value:String(n.id),children:n.name},n.id)}function Mt(n){return t.jsx(ct,{value:String(n.id),children:n.title},n.id)}function At(n){return{type:"file",value:URL.createObjectURL(n),file:n}}function Ft(n){return{...n,main_icon_url:null,main_icon_preview:null}}function Ot(n){n.type==="file"&&n.value?.startsWith("blob:")&&URL.revokeObjectURL(n.value)}function _s(n){const e=rt.c(74),{products:f,game_modes:g,categories:S}=n,[d,Te]=qe.useState(""),[s,a]=qe.useState(null),[l,m]=qe.useState(null);let W;e[0]===Symbol.for("react.memo_cache_sentinel")?(W={id:void 0,name:"",slug:"",short_description:"",price:"",stock:"",is_active:!0,game_mode_id:"",category_id:"",main_icon:null,main_icon_url:null,images:[],deleted_image_ids:[]},e[0]=W):W=e[0];const o=ot(W);let q;if(e[1]!==f.data||e[2]!==d){let i;e[4]!==d?(i=ne=>ne.name.toLowerCase().includes(d.toLowerCase())||ne.slug.toLowerCase().includes(d.toLowerCase()),e[4]=d,e[5]=i):i=e[5],q=f.data.filter(i),e[1]=f.data,e[2]=d,e[3]=q}else q=e[3];const C=q;let V;e[6]!==o?(V=()=>{o.reset(),a("create")},e[6]=o,e[7]=V):V=e[7];const ie=V;let J;e[8]!==o?(J=i=>{o.clearErrors(),o.setData({id:i.id,name:i.name,slug:i.slug,short_description:i.short_description??"",price:String(i.price),stock:i.stock!=null?String(i.stock):"",is_active:!!i.is_active,game_mode_id:String(i.game_mode_id),category_id:String(i.category_id),main_icon:null,main_icon_url:i.main_icon_url?`/storage/${i.main_icon_url}`:null,images:i.images.map(Gt),deleted_image_ids:[]}),a("edit")},e[8]=o,e[9]=J):J=e[9];const le=J;let K;e[10]===Symbol.for("react.memo_cache_sentinel")?(K=i=>{Ve.delete(Qe("admin.products.destroy",i),{preserveScroll:!0,onSuccess:()=>m(null)})},e[10]=K):K=e[10];const Ee=K,re=Ht;let Y;e[11]===Symbol.for("react.memo_cache_sentinel")?(Y=t.jsx(dt,{title:"Products â€¢ Admin"}),e[11]=Y):Y=e[11];let X;e[12]===Symbol.for("react.memo_cache_sentinel")?(X=t.jsx("h1",{className:"text-3xl lg:text-4xl font-black tracking-tight text-white",children:"Products"}),e[12]=X):X=e[12];let F;e[13]!==f.total?(F=t.jsxs("div",{children:[X,t.jsxs("p",{className:"mt-2 text-zinc-400",children:["Manage all store items â€¢ ",t.jsx("strong",{children:f.total})," total"]})]}),e[13]=f.total,e[14]=F):F=e[14];let k;e[15]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx(gt,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-zinc-500"}),e[15]=k):k=e[15];let P;e[16]===Symbol.for("react.memo_cache_sentinel")?(P=i=>Te(i.target.value),e[16]=P):P=e[16];let h;e[17]!==d?(h=t.jsxs("div",{className:"relative w-64 lg:w-80",children:[k,t.jsx(Ue,{placeholder:"Search name or slug...",className:"pl-10 border-zinc-700 bg-zinc-900 focus:border-orange-500",value:d,onChange:P})]}),e[17]=d,e[18]=h):h=e[18];let L;e[19]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx(Lt,{size:18}),e[19]=L):L=e[19];let D;e[20]!==ie?(D=t.jsxs(z,{onClick:ie,className:"gap-2 bg-gradient-to-r from-orange-600 to-orange-500 hover:from-orange-500 hover:to-orange-400 shadow-lg shadow-orange-900/30",children:[L,"New Product"]}),e[20]=ie,e[21]=D):D=e[21];let Z;e[22]===Symbol.for("react.memo_cache_sentinel")?(Z=t.jsx(z,{variant:"outline",size:"icon",onClick:re,title:"Refresh",children:t.jsx(Ct,{size:18})}),e[22]=Z):Z=e[22];let p;e[23]!==h||e[24]!==D?(p=t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[h,D,Z]}),e[23]=h,e[24]=D,e[25]=p):p=e[25];let u;e[26]!==p||e[27]!==F?(u=t.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[F,p]}),e[26]=p,e[27]=F,e[28]=u):u=e[28];let _;e[29]!==C.length?(_=t.jsx(ht,{className:"border-b border-zinc-800",children:t.jsxs(pt,{className:"text-xl",children:["All Products (",C.length,")"]})}),e[29]=C.length,e[30]=_):_=e[30];let b;e[31]!==C||e[32]!==le||e[33]!==d?(b=t.jsx(ut,{className:"p-0",children:C.length===0?t.jsxs("div",{className:"py-24 text-center text-zinc-500",children:[t.jsx("p",{className:"text-lg font-medium",children:d?"No matching products":"No products created yet"}),!d&&t.jsx("p",{className:"mt-3",children:'Click "New Product" to add your first item.'})]}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs(mt,{children:[t.jsx(xt,{className:"bg-zinc-900/60",children:t.jsxs(Ye,{className:"border-zinc-800 hover:bg-transparent",children:[t.jsx(Me,{className:"w-24 text-xs font-bold text-orange-400 uppercase",children:"Preview"}),t.jsx(Me,{className:"text-xs font-bold text-zinc-300 uppercase",children:"Product"}),t.jsx(Me,{className:"text-xs font-bold text-zinc-300 uppercase hidden md:table-cell",children:"Description"}),t.jsx(Me,{className:"text-xs font-bold text-zinc-300 uppercase",children:"Price / Stock"}),t.jsx(Me,{className:"text-right text-xs font-bold text-zinc-300 uppercase pr-6",children:"Actions"})]})}),t.jsx(ft,{children:C.map(i=>t.jsxs(Ye,{className:"group border-zinc-800 hover:bg-orange-950/10 transition-colors",children:[t.jsx(Ae,{children:t.jsxs("div",{className:"flex items-center gap-3",children:[i.main_icon_url?t.jsx("img",{src:`/storage/${i.main_icon_url}`,alt:i.name,className:"h-14 w-14 rounded-md object-cover border border-zinc-700"}):t.jsx("div",{className:"h-14 w-14 rounded-md bg-zinc-800 flex items-center justify-center text-zinc-600",children:t.jsx(It,{size:20})}),i.images?.length>0&&t.jsxs("div",{className:"flex -space-x-2",children:[i.images.slice(0,3).map(Bt),i.images.length>3&&t.jsxs("div",{className:"h-10 w-10 rounded-md bg-zinc-800 border-2 border-black flex items-center justify-center text-[10px] font-bold text-zinc-400",children:["+",i.images.length-3]})]})]})}),t.jsxs(Ae,{children:[t.jsx("div",{className:"font-medium text-white group-hover:text-orange-400 transition-colors",children:i.name}),t.jsxs("div",{className:"mt-0.5 text-xs text-zinc-500 font-mono",children:[i.game_mode?.title||"â€”"," â€¢ ",i.category?.name||"Uncategorized"]})]}),t.jsx(Ae,{className:"hidden md:table-cell",children:t.jsx("div",{className:"text-sm text-zinc-400 line-clamp-2 max-w-xs",children:i.short_description||"â€”"})}),t.jsxs(Ae,{children:[t.jsxs("div",{className:"font-mono font-bold text-orange-400",children:["$",Number(i.price).toFixed(2)]}),t.jsxs("div",{className:"mt-0.5 text-xs text-zinc-500",children:[i.stock," in stock"]})]}),t.jsx(Ae,{className:"text-right pr-4",children:t.jsxs("div",{className:"flex items-center justify-end gap-1",children:[t.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8",children:t.jsx(St,{size:16,className:"text-zinc-400"})}),t.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>le(i),children:t.jsx(kt,{size:16,className:"text-blue-400"})}),t.jsx(z,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>m(i.id),children:t.jsx(Pt,{size:16,className:"text-red-500"})})]})})]},i.id))})]})})}),e[31]=C,e[32]=le,e[33]=d,e[34]=b):b=e[34];let j;e[35]!==_||e[36]!==b?(j=t.jsxs(_t,{className:"border-zinc-800/50 bg-gradient-to-b from-zinc-950 to-black overflow-hidden",children:[_,b]}),e[35]=_,e[36]=b,e[37]=j):j=e[37];const ee=!!s;let te;e[38]===Symbol.for("react.memo_cache_sentinel")?(te=()=>a(null),e[38]=te):te=e[38];const O=s==="create"?"Create New Product":"Edit Product";let R;e[39]!==O?(R=t.jsx(jt,{className:"text-3xl font-black text-orange-500",children:O}),e[39]=O,e[40]=R):R=e[40];let v;e[41]!==o.data||e[42]!==s?(v=s==="edit"&&o.data.id&&t.jsxs(bt,{className:"text-zinc-400 mt-1",children:["Product ID: ",t.jsxs("span",{className:"font-mono text-orange-400",children:["#",o.data.id]})]}),e[41]=o.data,e[42]=s,e[43]=v):v=e[43];let N;e[44]!==R||e[45]!==v?(N=t.jsxs(vt,{className:"px-8 py-6 border-b border-zinc-800 bg-black/40 backdrop-blur-sm",children:[R,v]}),e[44]=R,e[45]=v,e[46]=N):N=e[46];let $;e[47]===Symbol.for("react.memo_cache_sentinel")?($=()=>a(null),e[47]=$):$=e[47];let I;e[48]!==S||e[49]!==o||e[50]!==g||e[51]!==s?(I=t.jsx("div",{className:"p-8 md:p-10 lg:p-12 overflow-y-auto",children:t.jsx(Ut,{form:o,mode:s,onClose:$,game_modes:g,categories:S})}),e[48]=S,e[49]=o,e[50]=g,e[51]=s,e[52]=I):I=e[52];let B;e[53]!==N||e[54]!==I?(B=t.jsxs(Ze,{className:"sm:max-w-6xl max-h-[95vh] overflow-hidden bg-gradient-to-br from-zinc-950 via-black to-zinc-950 border-zinc-700/40 shadow-2xl rounded-2xl p-0",children:[N,I]}),e[53]=N,e[54]=I,e[55]=B):B=e[55];let y;e[56]!==ee||e[57]!==B?(y=t.jsx(et,{open:ee,onOpenChange:te,children:B}),e[56]=ee,e[57]=B,e[58]=y):y=e[58];const se=l!==null;let U;e[59]===Symbol.for("react.memo_cache_sentinel")?(U=()=>m(null),e[59]=U):U=e[59];let T,E;e[60]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx(Dt,{className:"mx-auto mb-5 h-14 w-14 text-red-500"}),E=t.jsx("h3",{className:"mb-3 text-2xl font-bold text-white",children:"Delete Product?"}),e[60]=T,e[61]=E):(T=e[60],E=e[61]);let M;e[62]===Symbol.for("react.memo_cache_sentinel")?(M=t.jsxs("p",{className:"mb-8 text-zinc-300",children:["This action cannot be undone.",t.jsx("br",{}),"All associated data will be permanently removed."]}),e[62]=M):M=e[62];let Q;e[63]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx(z,{variant:"outline",onClick:()=>m(null),children:"Cancel"}),e[63]=Q):Q=e[63];let H;e[64]!==l?(H=t.jsx(Ze,{className:"sm:max-w-md border-red-900/40 bg-zinc-950",children:t.jsxs("div",{className:"py-6 text-center",children:[T,E,M,t.jsxs("div",{className:"flex justify-center gap-4",children:[Q,t.jsx(z,{variant:"destructive",onClick:()=>l&&Ee(l),children:"Delete Forever"})]})]})}),e[64]=l,e[65]=H):H=e[65];let w;e[66]!==se||e[67]!==H?(w=t.jsx(et,{open:se,onOpenChange:U,children:H}),e[66]=se,e[67]=H,e[68]=w):w=e[68];let A;return e[69]!==u||e[70]!==j||e[71]!==y||e[72]!==w?(A=t.jsxs(Nt,{children:[Y,t.jsxs("div",{className:"space-y-8 p-6 lg:p-8",children:[u,j,y,w]})]}),e[69]=u,e[70]=j,e[71]=y,e[72]=w,e[73]=A):A=e[73],A}function Bt(n,e){return t.jsx("img",{src:`/storage/${n.image_url}`,alt:"gallery",className:"h-10 w-10 rounded-md object-cover border-2 border-black shadow-sm"},e)}function Ht(){Ve.reload({only:["products"]})}function Gt(n){return{id:n.id,url:`/storage/${n.image_url}`}}export{_s as default};
