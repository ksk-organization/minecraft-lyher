import{c as ue,j as t,r as Ce,u as Ke,H as Qe,L as Ve}from"./app-B_8zf3Wf.js";import{c as We,a as fe,B as ze}from"./button-C-OWhaWV.js";import{I as Be}from"./input-DJXrX_zF.js";import{C as De,a as qe,b as Ae,c as Ge}from"./card-B31OlmoK.js";import{L as Se}from"./label-Bn5LyebN.js";import{B as He}from"./badge-B5wiIjj6.js";import{U as Xe}from"./upload-DVe_5Qft.js";import{e as Ze,f as et,T as tt,d as st,G as rt}from"./tooltip-mAVKZxYk.js";import{M as at}from"./monitor-CR_2hT6f.js";import{S as ot,L as lt}from"./layout-DzcxFDFB.js";import{C as it}from"./circle-alert-wLDjWAjr.js";import{L as Ye}from"./loader-circle-D-JWb2H4.js";/* empty css            */import"./index-MpGBEf4n.js";import"./index-CGtame5S.js";import"./proxy-BElYfJsI.js";const ct=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],nt=We("ChevronLeft",ct);const mt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Me=We("CircleCheck",mt);function dt(d){const e=ue.c(11),{mainImage:r,thumbnails:c,alt:a,onThumbClick:m}=d;let i;e[0]!==a||e[1]!==r?(i=t.jsx("div",{className:"relative aspect-square overflow-hidden rounded-2xl border border-white/5 bg-[#0f0f0f] shadow-2xl",children:t.jsx("img",{src:r,alt:a,className:"h-full w-full object-contain p-8 transition-transform duration-700 hover:scale-105 md:p-12",loading:"eager"})}),e[0]=a,e[1]=r,e[2]=i):i=e[2];let p;e[3]!==a||e[4]!==r||e[5]!==m||e[6]!==c?(p=c.length>1&&t.jsx("div",{className:"scrollbar-thin scrollbar-thumb-white/10 flex gap-3 overflow-x-auto pb-2",children:c.map((s,l)=>t.jsx("button",{type:"button",onClick:()=>m(s),className:fe("h-20 w-20 flex-shrink-0 rounded-xl border-2 bg-[#121212] p-2 transition-all",r===s?"border-primary shadow-[0_0_15px_rgba(var(--primary),0.4)]":"border-transparent opacity-60 hover:opacity-90"),children:t.jsx("img",{src:s,alt:`${a} preview ${l+1}`,className:"h-full w-full object-contain"})},l))}),e[3]=a,e[4]=r,e[5]=m,e[6]=c,e[7]=p):p=e[7];let o;return e[8]!==i||e[9]!==p?(o=t.jsxs("div",{className:"space-y-5",children:[i,p]}),e[8]=i,e[9]=p,e[10]=o):o=e[10],o}function pt(d){const e=ue.c(14),{file:r,onFileChange:c}=d;let a;e[0]!==c?(a=h=>{h.preventDefault();const f=h.dataTransfer.files[0];f?.type.startsWith("image/")&&c(f)},e[0]=c,e[1]=a):a=e[1];const m=a;let i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx(Se,{className:"text-xs font-black tracking-widest text-muted-foreground uppercase",children:"Upload Payment Proof"}),e[2]=i):i=e[2];const p=r?"border-green-600/50 bg-green-950/20":"border-white/10 bg-black/20 hover:border-primary/40";let o;e[3]!==p?(o=fe("cursor-pointer rounded-2xl border-2 border-dashed p-10 text-center transition-all",p),e[3]=p,e[4]=o):o=e[4];let s;e[5]!==c?(s=t.jsx("input",{type:"file",accept:"image/*",onChange:h=>c(h.target.files?.[0]??null),className:"hidden",id:"receipt-upload"}),e[5]=c,e[6]=s):s=e[6];let l;e[7]!==r?(l=t.jsx("label",{htmlFor:"receipt-upload",className:"cursor-pointer",children:r?t.jsxs("div",{className:"space-y-2",children:[t.jsx(Me,{className:"mx-auto h-10 w-10 text-green-500"}),t.jsx("p",{className:"text-sm font-medium text-green-400",children:r.name})]}):t.jsxs(t.Fragment,{children:[t.jsx(Xe,{className:"mx-auto mb-3 h-8 w-8 text-muted-foreground"}),t.jsx("p",{className:"text-xs font-bold uppercase opacity-60",children:"Drop Screenshot or Click to Browse"})]})}),e[7]=r,e[8]=l):l=e[8];let j;return e[9]!==m||e[10]!==o||e[11]!==s||e[12]!==l?(j=t.jsxs("div",{className:"space-y-2",children:[i,t.jsxs("div",{onDrop:m,onDragOver:ft,className:o,children:[s,l]})]}),e[9]=m,e[10]=o,e[11]=s,e[12]=l,e[13]=j):j=e[13],j}function ft(d){return d.preventDefault()}function xt(d){const e=ue.c(11),{finalPrice:r,platform:c}=d;let a;e[0]!==c?(a=c.toUpperCase(),e[0]=c,e[1]=a):a=e[1];let m;e[2]!==a?(m=t.jsxs("div",{className:"text-xs font-black tracking-widest uppercase opacity-50",children:["Scan to Pay (",a,")"]}),e[2]=a,e[3]=m):m=e[3];let i;e[4]===Symbol.for("react.memo_cache_sentinel")?(i=t.jsx("div",{className:"mx-auto flex justify-center ",children:t.jsx("img",{className:"max-w-128 shadow-inner rounded-2xl ",src:"/assets/qr/qr.jpg",alt:""})}),e[4]=i):i=e[4];let p;e[5]===Symbol.for("react.memo_cache_sentinel")?(p=t.jsx("span",{className:"uppercase opacity-70",children:"Total Due"}),e[5]=p):p=e[5];let o;e[6]!==r?(o=t.jsxs("div",{className:"flex items-center justify-between border-t border-white/10 pt-4 text-sm font-semibold",children:[p,t.jsxs("span",{className:"font-mono text-2xl text-primary",children:["$",r]})]}),e[6]=r,e[7]=o):o=e[7];let s;return e[8]!==m||e[9]!==o?(s=t.jsxs("div",{className:"space-y-5 rounded-2xl border border-white/5 bg-black/40 p-6 text-center",children:[m,i,o]}),e[8]=m,e[9]=o,e[10]=s):s=e[10],s}function ut(d){const e=ue.c(4),{value:r,onChange:c}=d;let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=[{id:"java",label:"Java",icon:at},{id:"bedrock",label:"Bedrock",icon:rt}],e[0]=a):a=e[0];const m=a;let i;return e[1]!==c||e[2]!==r?(i=t.jsx(Ze,{children:t.jsx("div",{className:"grid grid-cols-2 gap-3",children:m.map(p=>{const{id:o,label:s,icon:l}=p;return t.jsxs(et,{children:[t.jsx(tt,{asChild:!0,children:t.jsxs("button",{type:"button",onClick:()=>c(o),className:fe("flex flex-col items-center gap-2 rounded-xl border p-4 transition-all",r===o?"border-primary bg-primary/10 text-primary shadow-sm":"border-white/5 bg-black/20 text-muted-foreground hover:border-white/20"),children:[t.jsx(l,{size:20}),t.jsx("span",{className:"text-xs font-black uppercase",children:s})]})}),t.jsxs(st,{children:[s," Edition"]})]},o)})})}),e[1]=c,e[2]=r,e[3]=i):i=e[3],i}const ht=route("checkout.check-coupon"),gt=route("payment.store");function zt(d){const e=ue.c(165),{product:r}=d,c=r?.main_icon_url?`/storage/${r.main_icon_url}`:"https://cdn-icons-png.flaticon.com/512/2317/2317997.png";let a;if(e[0]!==c||e[1]!==r.images){const x=r?.images?.map(vt)??[],_=[c,...x].filter(Nt);a=_.length>0?_:["https://cdn-icons-png.flaticon.com/512/2317/2317997.png"],e[0]=c,e[1]=r.images,e[2]=a}else a=e[2];const m=a,[i,p]=Ce.useState(m[0]);let o;e[3]!==r.id?(o={product_id:r.id,minecraft_name:"",platform:"java",promo_code:"",receipt:null},e[3]=r.id,e[4]=o):o=e[4];const{data:s,setData:l,post:j,processing:h,errors:f,setError:b,clearErrors:Pe}=Ke(o),[n,he]=Ce.useState(null),[u,Re]=Ce.useState(!1);let Te;e:{const x=r?.price;if(x==null){Te=0;break e}const _=Number(x);let g;e[5]!==_?(g=Number.isNaN(_)?0:_,e[5]=_,e[6]=g):g=e[6],Te=g}const N=Te,xe=n?.valid?n.discount:0,$e=Math.max(0,N*(1-xe/100));let ge;e[7]!==Pe||e[8]!==s.promo_code||e[9]!==b?(ge=()=>{const x=setTimeout(()=>{const _=s.promo_code.trim().toUpperCase();if(!_){he(null);return}Re(!0),fetch(`${ht}?code=${encodeURIComponent(_)}`,{headers:{Accept:"application/json"}}).then(jt).then(g=>{g.valid?(he({valid:!0,discount:g.discount??0,message:g.message||`${g.discount}% off`}),Pe("promo_code")):(he({valid:!1,discount:0,message:g.message||"Invalid or expired code"}),b("promo_code",g.message||"Invalid code"))}).catch(()=>{he({valid:!1,discount:0,message:"Error checking code. Try again."}),b("promo_code","Network error")}).finally(()=>Re(!1))},500);return()=>clearTimeout(x)},e[7]=Pe,e[8]=s.promo_code,e[9]=b,e[10]=ge):ge=e[10];let be;e[11]!==s.promo_code?(be=[s.promo_code],e[11]=s.promo_code,e[12]=be):be=e[12],Ce.useEffect(ge,be);let _e;e[13]!==n||e[14]!==s.minecraft_name||e[15]!==s.promo_code||e[16]!==s.receipt||e[17]!==j||e[18]!==r.stock||e[19]!==b?(_e=x=>{if(x.preventDefault(),!s.minecraft_name.trim()){b("minecraft_name","Minecraft username is required");return}if(!s.receipt){b("receipt","Please upload a payment receipt");return}if(r.stock<=0){b("general","Product is out of stock");return}if(n&&!n.valid&&s.promo_code.trim()){b("promo_code","Please use a valid promo code or clear it");return}j(gt,{preserveScroll:!0,onSuccess:_t,onError:bt})},e[13]=n,e[14]=s.minecraft_name,e[15]=s.promo_code,e[16]=s.receipt,e[17]=j,e[18]=r.stock,e[19]=b,e[20]=_e):_e=e[20];const Ee=_e,Ie=`NOMROTI | ${r.name}`;let v;e[21]!==Ie?(v=t.jsx(Qe,{title:Ie}),e[21]=Ie,e[22]=v):v=e[22];let je;e[23]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx("nav",{className:"sticky top-0 z-40 border-b border-white/5 bg-black/70 backdrop-blur-lg",children:t.jsx("div",{className:"container mx-auto px-5 py-4 md:px-6",children:t.jsxs(Ve,{href:"/products",className:"inline-flex items-center gap-1.5 text-sm font-semibold text-muted-foreground transition-colors hover:text-primary",children:[t.jsx(nt,{size:16}),"Back to Catalog"]})})}),e[23]=je):je=e[23];let y;e[24]!==i||e[25]!==m||e[26]!==r.name?(y=t.jsx(dt,{mainImage:i,thumbnails:m,alt:r.name,onThumbClick:p}),e[24]=i,e[25]=m,e[26]=r.name,e[27]=y):y=e[27];let k;e[28]!==r.name?(k=t.jsx("h1",{className:"text-4xl font-black tracking-tight text-white uppercase italic md:text-5xl",children:r.name}),e[28]=r.name,e[29]=k):k=e[29];let w;e[30]!==N?(w=N.toFixed(2),e[30]=N,e[31]=w):w=e[31];let C;e[32]!==w?(C=t.jsxs("span",{className:"font-mono text-4xl font-bold text-primary md:text-5xl",children:["$",w]}),e[32]=w,e[33]=C):C=e[33];let S;e[34]!==xe||e[35]!==N?(S=xe>0&&t.jsxs(t.Fragment,{children:[t.jsxs("span",{className:"text-xl text-muted-foreground line-through opacity-70 md:text-2xl",children:["$",N.toFixed(2)]}),t.jsxs(He,{className:"border-green-500/40 bg-green-600/30 text-green-400",children:["-",xe,"%"]})]}),e[34]=xe,e[35]=N,e[36]=S):S=e[36];const Ue=r.stock>0?"border-green-600/40 bg-green-950/30 text-green-400":"border-red-600/40 bg-red-950/30 text-red-400";let P;e[37]!==Ue?(P=fe("ml-2",Ue),e[37]=Ue,e[38]=P):P=e[38];const Le=r.stock>0?`${r.stock} in stock`:"Out of stock";let T;e[39]!==P||e[40]!==Le?(T=t.jsx(He,{variant:"outline",className:P,children:Le}),e[39]=P,e[40]=Le,e[41]=T):T=e[41];let $;e[42]!==C||e[43]!==S||e[44]!==T?($=t.jsxs("div",{className:"flex flex-wrap items-baseline gap-4",children:[C,S,T]}),e[42]=C,e[43]=S,e[44]=T,e[45]=$):$=e[45];let E;e[46]!==r.short_description?(E=r.short_description&&t.jsx("p",{className:"text-lg leading-relaxed text-zinc-300",children:r.short_description}),e[46]=r.short_description,e[47]=E):E=e[47];let I;e[48]!==k||e[49]!==$||e[50]!==E?(I=t.jsxs("header",{className:"space-y-4",children:[k,$,E]}),e[48]=k,e[49]=$,e[50]=E,e[51]=I):I=e[51];let Ne;e[52]===Symbol.for("react.memo_cache_sentinel")?(Ne=t.jsx(qe,{className:"pb-4",children:t.jsx(Ae,{className:"text-xl font-black tracking-wide uppercase",children:"Complete Your Purchase"})}),e[52]=Ne):Ne=e[52];let ve;e[53]===Symbol.for("react.memo_cache_sentinel")?(ve=t.jsx(Se,{htmlFor:"minecraft_name",className:"text-xs font-black tracking-widest text-muted-foreground uppercase",children:"Minecraft Username (IGN)"}),e[53]=ve):ve=e[53];let U;e[54]!==l?(U=x=>l("minecraft_name",x.target.value.trim()),e[54]=l,e[55]=U):U=e[55];let L;e[56]!==s.minecraft_name||e[57]!==U?(L=t.jsx(Be,{id:"minecraft_name",value:s.minecraft_name,onChange:U,placeholder:"Your in-game name",className:"h-12 border-white/10 bg-black/30 pr-10"}),e[56]=s.minecraft_name,e[57]=U,e[58]=L):L=e[58];let F;e[59]!==s.minecraft_name.length?(F=s.minecraft_name.length>2&&t.jsx(Me,{className:"absolute right-3 top-1/2 h-5 w-5 -translate-y-1/2 text-green-500"}),e[59]=s.minecraft_name.length,e[60]=F):F=e[60];let O;e[61]!==L||e[62]!==F?(O=t.jsxs("div",{className:"relative",children:[L,F]}),e[61]=L,e[62]=F,e[63]=O):O=e[63];let M;e[64]!==f.minecraft_name?(M=f.minecraft_name&&t.jsx("p",{className:"text-sm text-red-400",children:f.minecraft_name}),e[64]=f.minecraft_name,e[65]=M):M=e[65];let R;e[66]!==O||e[67]!==M?(R=t.jsxs("div",{className:"space-y-2",children:[ve,O,M]}),e[66]=O,e[67]=M,e[68]=R):R=e[68];let ye;e[69]===Symbol.for("react.memo_cache_sentinel")?(ye=t.jsx(Se,{className:"text-xs font-black tracking-widest text-muted-foreground uppercase",children:"Platform"}),e[69]=ye):ye=e[69];let z;e[70]!==l?(z=x=>l("platform",x),e[70]=l,e[71]=z):z=e[71];let B;e[72]!==s.platform||e[73]!==z?(B=t.jsxs("div",{className:"space-y-2",children:[ye,t.jsx(ut,{value:s.platform,onChange:z})]}),e[72]=s.platform,e[73]=z,e[74]=B):B=e[74];let ke;e[75]===Symbol.for("react.memo_cache_sentinel")?(ke=t.jsx(Se,{className:"text-xs font-black tracking-widest text-muted-foreground uppercase",children:"Promo Code"}),e[75]=ke):ke=e[75];const Je=s.promo_code;let D;e[76]!==l?(D=x=>l("promo_code",x.target.value.toUpperCase()),e[76]=l,e[77]=D):D=e[77];const Fe=n?.valid&&"border-green-500/60 focus:border-green-500",Oe=!n?.valid&&s.promo_code&&"border-red-500/60 focus:border-red-500";let q;e[78]!==Fe||e[79]!==Oe?(q=fe("h-12 border-white/10 bg-black/30 pr-10 transition-colors duration-200",Fe,Oe),e[78]=Fe,e[79]=Oe,e[80]=q):q=e[80];let A;e[81]!==s.promo_code||e[82]!==D||e[83]!==q?(A=t.jsx(Be,{value:Je,onChange:D,placeholder:"Enter code (e.g. WELCOME10)",className:q}),e[81]=s.promo_code,e[82]=D,e[83]=q,e[84]=A):A=e[84];let G;e[85]!==u?(G=u&&t.jsx(Ye,{className:"absolute right-3 top-1/2 h-5 w-5 -translate-y-1/2 animate-spin text-muted-foreground"}),e[85]=u,e[86]=G):G=e[86];let H;e[87]!==n?.valid||e[88]!==u?(H=!u&&n?.valid&&t.jsx(Me,{className:"absolute right-3 top-1/2 h-5 w-5 -translate-y-1/2 text-green-500"}),e[87]=n?.valid,e[88]=u,e[89]=H):H=e[89];let Y;e[90]!==n?.valid||e[91]!==s.promo_code||e[92]!==u?(Y=!u&&!n?.valid&&s.promo_code&&t.jsx(it,{className:"absolute right-3 top-1/2 h-5 w-5 -translate-y-1/2 text-red-500"}),e[90]=n?.valid,e[91]=s.promo_code,e[92]=u,e[93]=Y):Y=e[93];let W;e[94]!==A||e[95]!==G||e[96]!==H||e[97]!==Y?(W=t.jsxs("div",{className:"relative flex-1",children:[A,G,H,Y]}),e[94]=A,e[95]=G,e[96]=H,e[97]=Y,e[98]=W):W=e[98];let J;e[99]!==s.promo_code||e[100]!==l?(J=()=>l("promo_code",s.promo_code.trim().toUpperCase()),e[99]=s.promo_code,e[100]=l,e[101]=J):J=e[101];let K;e[102]!==s.promo_code||e[103]!==u?(K=u||!s.promo_code.trim(),e[102]=s.promo_code,e[103]=u,e[104]=K):K=e[104];let Q;e[105]!==J||e[106]!==K?(Q=t.jsx(ze,{type:"button",variant:"secondary",size:"sm",onClick:J,disabled:K,className:"h-12 px-6",children:"Apply"}),e[105]=J,e[106]=K,e[107]=Q):Q=e[107];let V;e[108]!==W||e[109]!==Q?(V=t.jsxs("div",{className:"flex gap-2",children:[W,Q]}),e[108]=W,e[109]=Q,e[110]=V):V=e[110];let X;e[111]!==n?(X=n&&t.jsx("p",{className:fe("mt-1.5 text-sm",n.valid?"text-green-400":"text-red-400"),children:n.message}),e[111]=n,e[112]=X):X=e[112];let Z;e[113]!==f.promo_code?(Z=f.promo_code&&t.jsx("p",{className:"text-sm text-red-400",children:f.promo_code}),e[113]=f.promo_code,e[114]=Z):Z=e[114];let ee;e[115]!==V||e[116]!==X||e[117]!==Z?(ee=t.jsxs("div",{className:"space-y-2",children:[ke,V,X,Z]}),e[115]=V,e[116]=X,e[117]=Z,e[118]=ee):ee=e[118];let te;e[119]!==s.platform||e[120]!==$e?(te=t.jsx(xt,{finalPrice:$e,platform:s.platform}),e[119]=s.platform,e[120]=$e,e[121]=te):te=e[121];let se;e[122]!==l?(se=x=>l("receipt",x),e[122]=l,e[123]=se):se=e[123];let re;e[124]!==s.receipt||e[125]!==se?(re=t.jsx(pt,{file:s.receipt,onFileChange:se}),e[124]=s.receipt,e[125]=se,e[126]=re):re=e[126];let ae;e[127]!==f.receipt?(ae=f.receipt&&t.jsx("p",{className:"text-sm text-red-400",children:f.receipt}),e[127]=f.receipt,e[128]=ae):ae=e[128];let oe;e[129]!==f.general?(oe=f.general&&t.jsx("p",{className:"text-center text-red-400",children:f.general}),e[129]=f.general,e[130]=oe):oe=e[130];let le;e[131]!==n||e[132]!==s.minecraft_name||e[133]!==s.promo_code||e[134]!==s.receipt||e[135]!==h||e[136]!==r.stock?(le=h||!s.minecraft_name.trim()||!s.receipt||r.stock<=0||n&&!n.valid&&s.promo_code.trim(),e[131]=n,e[132]=s.minecraft_name,e[133]=s.promo_code,e[134]=s.receipt,e[135]=h,e[136]=r.stock,e[137]=le):le=e[137];let ie;e[138]!==h?(ie=h?t.jsxs(t.Fragment,{children:[t.jsx(Ye,{className:"mr-2 h-5 w-5 animate-spin"}),"Processing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(ot,{className:"mr-2 h-5 w-5"}),"Submit Payment"]}),e[138]=h,e[139]=ie):ie=e[139];let ce;e[140]!==le||e[141]!==ie?(ce=t.jsx(ze,{type:"submit",disabled:le,className:"h-14 w-full bg-primary text-lg font-black tracking-wider uppercase hover:bg-primary/90 transition-all",children:ie}),e[140]=le,e[141]=ie,e[142]=ce):ce=e[142];let ne;e[143]!==Ee||e[144]!==R||e[145]!==B||e[146]!==ee||e[147]!==te||e[148]!==re||e[149]!==ae||e[150]!==oe||e[151]!==ce?(ne=t.jsxs(De,{className:"border-white/5 bg-gradient-to-b from-[#1a1a1a] to-[#121212] shadow-2xl",children:[Ne,t.jsx(Ge,{className:"space-y-8 p-6 md:p-8",children:t.jsxs("form",{onSubmit:Ee,className:"space-y-8",children:[R,B,ee,te,re,ae,oe,ce]})})]}),e[143]=Ee,e[144]=R,e[145]=B,e[146]=ee,e[147]=te,e[148]=re,e[149]=ae,e[150]=oe,e[151]=ce,e[152]=ne):ne=e[152];let me;e[153]!==r.long_description?(me=r.long_description&&t.jsxs(De,{className:"border-white/5 bg-[#1a1a1a] shadow-xl",children:[t.jsx(qe,{children:t.jsx(Ae,{className:"text-lg font-black uppercase",children:"Product Details"})}),t.jsx(Ge,{className:"leading-relaxed whitespace-pre-line text-zinc-300",children:r.long_description})]}),e[153]=r.long_description,e[154]=me):me=e[154];let de;e[155]!==I||e[156]!==ne||e[157]!==me?(de=t.jsxs("div",{className:"space-y-10",children:[I,ne,me]}),e[155]=I,e[156]=ne,e[157]=me,e[158]=de):de=e[158];let pe;e[159]!==y||e[160]!==de?(pe=t.jsx("main",{className:"container mx-auto px-5 py-10 md:px-6 md:py-16",children:t.jsxs("div",{className:"grid gap-10 lg:grid-cols-2 lg:gap-16",children:[y,de]})}),e[159]=y,e[160]=de,e[161]=pe):pe=e[161];let we;return e[162]!==pe||e[163]!==v?(we=t.jsxs(lt,{children:[v,je,pe]}),e[162]=pe,e[163]=v,e[164]=we):we=e[164],we}function bt(d){console.log("Submission errors:",d)}function _t(){}function jt(d){return d.json()}function Nt(d,e,r){return r.indexOf(d)===e}function vt(d){return`/storage/${d.image_url}`}export{zt as default};
