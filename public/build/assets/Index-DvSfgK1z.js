import{c as Xe,r as ae,u as Ue,j as s,a as ie,H as Ze}from"./app-DYVD0Fyw.js";import{B as h}from"./button-DgYLZPUO.js";import{I as He}from"./input-DvfDOwqL.js";import{T as Ve,a as re,S as es,b as ss,c as ts,d as Oe,e as ls}from"./table-BWOzaFIb.js";import{C as as,a as rs,b as is,c as ns}from"./card-CT1PjHSW.js";import{D as Ee,a as Fe,b as Le,c as Re,d as Ae,e as os}from"./dialog-BkQXqalU.js";import{A as cs}from"./app-layout-BEAfIPVw.js";import{L as qe}from"./label-ANYtp7Xd.js";import{s as Je}from"./index-BsxvijQw.js";import{E as ms,R as ds}from"./refresh-cw-Cgn6G04a.js";import{P as hs,T as fs}from"./trash-2-CR_tdmQo.js";import{C as xs}from"./circle-plus-tvOsLcQr.js";import{C as ps}from"./circle-alert-Ctky7lzj.js";import"./app-DZu5-7ih.js";import"./index-TOH6b0y4.js";import"./tooltip-CRmPrCIG.js";import"./index-BZ2mQYBJ.js";import"./app-logo-icon-vPmVJ1Yv.js";function We(ze){const e=Xe.c(37),{data:i,setData:a,errors:C,isEdit:ne}=ze;let N;e[0]===Symbol.for("react.memo_cache_sentinel")?(N=s.jsx(qe,{htmlFor:"name",children:"Category Name *"}),e[0]=N):N=e[0];let b;e[1]!==a?(b=d=>a("name",d.target.value),e[1]=a,e[2]=b):b=e[2];let f;e[3]!==i.name||e[4]!==b?(f=s.jsx(He,{id:"name",value:i.name,onChange:b,placeholder:"Ranks"}),e[3]=i.name,e[4]=b,e[5]=f):f=e[5];let m;e[6]!==C.name?(m=C.name&&s.jsx("p",{className:"text-sm text-destructive",children:C.name}),e[6]=C.name,e[7]=m):m=e[7];let x;e[8]!==f||e[9]!==m?(x=s.jsxs("div",{className:"space-y-2",children:[N,f,m]}),e[8]=f,e[9]=m,e[10]=x):x=e[10];let v;e[11]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx(qe,{htmlFor:"slug",children:"Slug *"}),e[11]=v):v=e[11];let _;e[12]!==a?(_=d=>a("slug",d.target.value),e[12]=a,e[13]=_):_=e[13];let p;e[14]!==i.slug||e[15]!==_?(p=s.jsx(He,{id:"slug",value:i.slug,onChange:_,placeholder:"ranks"}),e[14]=i.slug,e[15]=_,e[16]=p):p=e[16];let l;e[17]!==C.slug?(l=C.slug&&s.jsx("p",{className:"text-sm text-destructive",children:C.slug}),e[17]=C.slug,e[18]=l):l=e[18];let g;e[19]!==l||e[20]!==p?(g=s.jsxs("div",{className:"space-y-2",children:[v,p,l]}),e[19]=l,e[20]=p,e[21]=g):g=e[21];let t;e[22]!==g||e[23]!==x?(t=s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[x,g]}),e[22]=g,e[23]=x,e[24]=t):t=e[24];let u;e[25]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx(qe,{htmlFor:"display_order",children:"Display Order"}),e[25]=u):u=e[25];let n;e[26]!==a?(n=d=>a("display_order",Number(d.target.value)||0),e[26]=a,e[27]=n):n=e[27];let o;e[28]!==i.display_order||e[29]!==n?(o=s.jsx(He,{id:"display_order",type:"number",min:"0",value:i.display_order,onChange:n}),e[28]=i.display_order,e[29]=n,e[30]=o):o=e[30];let j;e[31]===Symbol.for("react.memo_cache_sentinel")?(j=s.jsx("p",{className:"text-xs text-muted-foreground",children:"Lower numbers appear first in menus and listings"}),e[31]=j):j=e[31];let c;e[32]!==o?(c=s.jsxs("div",{className:"space-y-2",children:[u,o,j]}),e[32]=o,e[33]=c):c=e[33];let y;return e[34]!==t||e[35]!==c?(y=s.jsxs("div",{className:"space-y-6 py-4",children:[t,c]}),e[34]=t,e[35]=c,e[36]=y):y=e[36],y}function As(ze){const e=Xe.c(137),{categories:i}=ze,[a,C]=ae.useState(""),[ne,N]=ae.useState(!1),[b,f]=ae.useState(!1),[m,x]=ae.useState(null),[v,_]=ae.useState(null);let p;e[0]===Symbol.for("react.memo_cache_sentinel")?(p={name:"",slug:"",display_order:0},e[0]=p):p=e[0];const l=Ue(p);let g;e[1]===Symbol.for("react.memo_cache_sentinel")?(g={id:0,name:"",slug:"",display_order:0},e[1]=g):g=e[1];const t=Ue(g);let u,n,o,j,c,y,d,T,S,w,O,D,E,F,L,k,R;if(e[2]!==i||e[3]!==l||e[4]!==t||e[5]!==a){let Ce;e[23]!==a?(Ce=r=>r.name.toLowerCase().includes(a.toLowerCase())||r.slug.toLowerCase().includes(a.toLowerCase()),e[23]=a,e[24]=Ce):Ce=e[24];const Qe=i.filter(Ce);let be;e[25]!==l?(be=()=>{l.post(Je("admin.categories.store"),{onSuccess:()=>{l.reset(),N(!1),ie.reload({only:["categories"]})}})},e[25]=l,e[26]=be):be=e[26],y=be;let _e;e[27]!==t?(_e=r=>{t.setData(r),f(!0)},e[27]=t,e[28]=_e):_e=e[28];const Ye=_e;let Ne;e[29]!==t?(Ne=()=>{t.put(Je("admin.categories.update",t.data.id),{onSuccess:()=>{f(!1),ie.reload({only:["categories"]})}})},e[29]=t,e[30]=Ne):Ne=e[30],T=Ne;let ve;e[31]===Symbol.for("react.memo_cache_sentinel")?(ve=r=>{ie.delete(Je("admin.categories.destroy",r),{onSuccess:()=>{x(null),ie.reload({only:["categories"]})}})},e[31]=ve):ve=e[31],d=ve,c=cs,e[32]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsx(Ze,{title:"Manage Categories"}),e[32]=w):w=e[32],R="p-6 lg:p-8 space-y-8";let Se;e[33]===Symbol.for("react.memo_cache_sentinel")?(Se=s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-black tracking-tight",children:"Categories"}),s.jsx("p",{className:"text-muted-foreground mt-1",children:"Group products (Ranks, Crates, Keys, Perks, Bundles, ...)"})]}),e[33]=Se):Se=e[33];let we;e[34]===Symbol.for("react.memo_cache_sentinel")?(we=s.jsx(es,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e[34]=we):we=e[34];let De;e[35]===Symbol.for("react.memo_cache_sentinel")?(De=r=>C(r.target.value),e[35]=De):De=e[35];let le;e[36]!==a?(le=s.jsxs("div",{className:"relative w-64",children:[we,s.jsx(He,{placeholder:"Search categories...",className:"pl-10",value:a,onChange:De})]}),e[36]=a,e[37]=le):le=e[37];let ke;e[38]===Symbol.for("react.memo_cache_sentinel")?(ke=s.jsxs(h,{onClick:()=>N(!0),children:[s.jsx(xs,{className:"mr-2 h-4 w-4"}),"New Category"]}),e[38]=ke):ke=e[38],e[39]!==le?(S=s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[Se,s.jsxs("div",{className:"flex items-center gap-3",children:[le,ke]})]}),e[39]=le,e[40]=S):S=e[40],j=as,L="border-white/5 bg-[#1f1f1f]";let Te;e[41]===Symbol.for("react.memo_cache_sentinel")?(Te=s.jsx("span",{children:"All Categories"}),e[41]=Te):Te=e[41],e[42]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx(rs,{className:"border-b border-white/5",children:s.jsxs(is,{className:"flex justify-between items-center",children:[Te,s.jsxs(h,{variant:"ghost",size:"sm",onClick:gs,children:[s.jsx(ds,{className:"h-4 w-4 mr-2"}),"Refresh"]})]})}),e[42]=k):k=e[42],o=ns,F="p-0 pt-1",E="overflow-x-auto",n=ss,e[43]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsx(ts,{children:s.jsxs(Ve,{className:"hover:bg-transparent",children:[s.jsx(Oe,{children:"Name"}),s.jsx(Oe,{children:"Slug"}),s.jsx(Oe,{children:"Display Order"}),s.jsx(Oe,{className:"text-right",children:"Actions"})]})}),e[43]=D):D=e[43],u=ls,O=Qe.length===0?s.jsx(Ve,{children:s.jsx(re,{colSpan:4,className:"text-center py-12 text-muted-foreground",children:"No categories found"})}):Qe.map(r=>s.jsxs(Ve,{className:"hover:bg-white/3",children:[s.jsx(re,{className:"font-medium",children:r.name}),s.jsx(re,{className:"text-muted-foreground font-mono",children:r.slug}),s.jsx(re,{children:r.display_order}),s.jsxs(re,{className:"text-right space-x-2",children:[s.jsx(h,{variant:"ghost",size:"icon",onClick:()=>_(r),children:s.jsx(ms,{className:"h-4 w-4"})}),s.jsx(h,{variant:"ghost",size:"icon",onClick:()=>Ye(r),children:s.jsx(hs,{className:"h-4 w-4"})}),s.jsx(h,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive/90",onClick:()=>x(r.id),children:s.jsx(fs,{className:"h-4 w-4"})})]})]},r.id)),e[2]=i,e[3]=l,e[4]=t,e[5]=a,e[6]=u,e[7]=n,e[8]=o,e[9]=j,e[10]=c,e[11]=y,e[12]=d,e[13]=T,e[14]=S,e[15]=w,e[16]=O,e[17]=D,e[18]=E,e[19]=F,e[20]=L,e[21]=k,e[22]=R}else u=e[6],n=e[7],o=e[8],j=e[9],c=e[10],y=e[11],d=e[12],T=e[13],S=e[14],w=e[15],O=e[16],D=e[17],E=e[18],F=e[19],L=e[20],k=e[21],R=e[22];let A;e[44]!==u||e[45]!==O?(A=s.jsx(u,{children:O}),e[44]=u,e[45]=O,e[46]=A):A=e[46];let H;e[47]!==n||e[48]!==A||e[49]!==D?(H=s.jsxs(n,{children:[D,A]}),e[47]=n,e[48]=A,e[49]=D,e[50]=H):H=e[50];let z;e[51]!==H||e[52]!==E?(z=s.jsx("div",{className:E,children:H}),e[51]=H,e[52]=E,e[53]=z):z=e[53];let P;e[54]!==o||e[55]!==z||e[56]!==F?(P=s.jsx(o,{className:F,children:z}),e[54]=o,e[55]=z,e[56]=F,e[57]=P):P=e[57];let B;e[58]!==j||e[59]!==P||e[60]!==L||e[61]!==k?(B=s.jsxs(j,{className:L,children:[k,P]}),e[58]=j,e[59]=P,e[60]=L,e[61]=k,e[62]=B):B=e[62];const Pe=!!v;let oe;e[63]===Symbol.for("react.memo_cache_sentinel")?(oe=()=>_(null),e[63]=oe):oe=e[63];const Be=v?.name;let I;e[64]!==Be?(I=s.jsx(Fe,{children:s.jsx(Le,{children:Be})}),e[64]=Be,e[65]=I):I=e[65];let ce;e[66]===Symbol.for("react.memo_cache_sentinel")?(ce=s.jsx("h4",{className:"font-semibold mb-1",children:"Slug"}),e[66]=ce):ce=e[66];const Ie=v?.slug;let $;e[67]!==Ie?($=s.jsxs("div",{children:[ce,s.jsx("p",{className:"text-muted-foreground font-mono",children:Ie})]}),e[67]=Ie,e[68]=$):$=e[68];let me;e[69]===Symbol.for("react.memo_cache_sentinel")?(me=s.jsx("h4",{className:"font-semibold mb-1",children:"Display Order"}),e[69]=me):me=e[69];const $e=v?.display_order??0;let G;e[70]!==$e?(G=s.jsxs("div",{children:[me,s.jsx("p",{className:"font-medium",children:$e})]}),e[70]=$e,e[71]=G):G=e[71];let K;e[72]!==$||e[73]!==G?(K=s.jsx("div",{className:"space-y-4 py-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[$,G]})}),e[72]=$,e[73]=G,e[74]=K):K=e[74];let de;e[75]===Symbol.for("react.memo_cache_sentinel")?(de=s.jsx(Ee,{children:s.jsx(h,{variant:"outline",onClick:()=>_(null),children:"Close"})}),e[75]=de):de=e[75];let M;e[76]!==I||e[77]!==K?(M=s.jsxs(Re,{className:"max-w-md",children:[I,K,de]}),e[76]=I,e[77]=K,e[78]=M):M=e[78];let V;e[79]!==Pe||e[80]!==M?(V=s.jsx(Ae,{open:Pe,onOpenChange:oe,children:M}),e[79]=Pe,e[80]=M,e[81]=V):V=e[81];let he;e[82]===Symbol.for("react.memo_cache_sentinel")?(he=s.jsx(Fe,{children:s.jsx(Le,{children:"Create New Category"})}),e[82]=he):he=e[82];let q;e[83]!==l.data||e[84]!==l.errors||e[85]!==l.processing||e[86]!==l.setData?(q=s.jsx(We,{data:l.data,setData:l.setData,errors:l.errors,processing:l.processing}),e[83]=l.data,e[84]=l.errors,e[85]=l.processing,e[86]=l.setData,e[87]=q):q=e[87];let fe;e[88]===Symbol.for("react.memo_cache_sentinel")?(fe=s.jsx(h,{variant:"outline",onClick:()=>N(!1),children:"Cancel"}),e[88]=fe):fe=e[88];const Ge=l.processing?"Creating...":"Create Category";let J;e[89]!==l.processing||e[90]!==y||e[91]!==Ge?(J=s.jsxs(Ee,{children:[fe,s.jsx(h,{onClick:y,disabled:l.processing,children:Ge})]}),e[89]=l.processing,e[90]=y,e[91]=Ge,e[92]=J):J=e[92];let Q;e[93]!==q||e[94]!==J?(Q=s.jsxs(Re,{className:"max-w-lg",children:[he,q,J]}),e[93]=q,e[94]=J,e[95]=Q):Q=e[95];let U;e[96]!==ne||e[97]!==Q?(U=s.jsx(Ae,{open:ne,onOpenChange:N,children:Q}),e[96]=ne,e[97]=Q,e[98]=U):U=e[98];let xe;e[99]===Symbol.for("react.memo_cache_sentinel")?(xe=s.jsx(Fe,{children:s.jsx(Le,{children:"Edit Category"})}),e[99]=xe):xe=e[99];let W;e[100]!==t.data||e[101]!==t.errors||e[102]!==t.processing||e[103]!==t.setData?(W=s.jsx(We,{data:t.data,setData:t.setData,errors:t.errors,processing:t.processing,isEdit:!0}),e[100]=t.data,e[101]=t.errors,e[102]=t.processing,e[103]=t.setData,e[104]=W):W=e[104];let pe;e[105]===Symbol.for("react.memo_cache_sentinel")?(pe=s.jsx(h,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),e[105]=pe):pe=e[105];const Ke=t.processing?"Saving...":"Save Changes";let X;e[106]!==t.processing||e[107]!==T||e[108]!==Ke?(X=s.jsxs(Ee,{children:[pe,s.jsx(h,{onClick:T,disabled:t.processing,children:Ke})]}),e[106]=t.processing,e[107]=T,e[108]=Ke,e[109]=X):X=e[109];let Y;e[110]!==W||e[111]!==X?(Y=s.jsxs(Re,{className:"max-w-lg",children:[xe,W,X]}),e[110]=W,e[111]=X,e[112]=Y):Y=e[112];let Z;e[113]!==b||e[114]!==Y?(Z=s.jsx(Ae,{open:b,onOpenChange:f,children:Y}),e[113]=b,e[114]=Y,e[115]=Z):Z=e[115];const Me=m!==null;let ge;e[116]===Symbol.for("react.memo_cache_sentinel")?(ge=()=>x(null),e[116]=ge):ge=e[116];let ue;e[117]===Symbol.for("react.memo_cache_sentinel")?(ue=s.jsxs(Fe,{children:[s.jsxs(Le,{className:"text-destructive flex items-center gap-2",children:[s.jsx(ps,{className:"h-5 w-5"}),"Confirm Delete"]}),s.jsx(os,{children:"Are you sure you want to delete this category? Products in this category may become uncategorized."})]}),e[117]=ue):ue=e[117];let je;e[118]===Symbol.for("react.memo_cache_sentinel")?(je=s.jsx(h,{variant:"outline",onClick:()=>x(null),children:"Cancel"}),e[118]=je):je=e[118];let ee;e[119]!==m||e[120]!==d?(ee=s.jsxs(Re,{children:[ue,s.jsxs(Ee,{children:[je,s.jsx(h,{variant:"destructive",onClick:()=>m&&d(m),children:"Delete Category"})]})]}),e[119]=m,e[120]=d,e[121]=ee):ee=e[121];let se;e[122]!==Me||e[123]!==ee?(se=s.jsx(Ae,{open:Me,onOpenChange:ge,children:ee}),e[122]=Me,e[123]=ee,e[124]=se):se=e[124];let te;e[125]!==S||e[126]!==B||e[127]!==V||e[128]!==U||e[129]!==Z||e[130]!==se||e[131]!==R?(te=s.jsxs("div",{className:R,children:[S,B,V,U,Z,se]}),e[125]=S,e[126]=B,e[127]=V,e[128]=U,e[129]=Z,e[130]=se,e[131]=R,e[132]=te):te=e[132];let ye;return e[133]!==c||e[134]!==w||e[135]!==te?(ye=s.jsxs(c,{children:[w,te]}),e[133]=c,e[134]=w,e[135]=te,e[136]=ye):ye=e[136],ye}function gs(){return ie.reload()}export{As as default};
